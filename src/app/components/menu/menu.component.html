<div class="menu-container">
  <div class="menu" [ngClass]="{'active': menu[1]}" (click)="closeToogleMenu(1)" *ngIf="menu[1]">
    <div appClickOutside (clickOutside)="onClickedOutside(1)" class="bg-menu" [ngClass]="{'active': bgMenu === true}">

      <div class="wrapper-img">
        <img [@top4] class="img-fluid" src="./../../assets/logo/discussio.png" alt="logo discussio">
      </div>

      <div class="menu_title t-lar-xx bold t-c">
        Меню Discussio<i class="fa-regular fa-compass pl-2"></i>
      </div>

      <a [@cardAnimation]="{value: '', params: { delay: animationDelay(5) }}" class="link-item"
        [routerLinkActive]="'active'" [routerLink]="'/home'" *ngIf="linkOpen[1]">
        <img class="logo-img" src="./../../assets/logo/discussio.png" alt="logo discussio">
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Головна сторінка</p>
          <p class="t-min">Домашня сторінка Discussio</p>
        </div>
      </a>

      <a [@cardAnimation]="{value: '', params: { delay: animationDelay(5) }}" class="link-item"
        [routerLinkActive]="'active'" [routerLink]="'/about-project'" *ngIf="linkOpen[1]">
        <i class="fa-solid fa-barcode"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Про Проект</p>
          <p class="t-min">Інформація про Discussio</p>
        </div>
      </a>

      <a [@cardAnimation]="{value: '', params: { delay: animationDelay(5) }}" class="link-item"
        [routerLinkActive]="'active'" [routerLink]="'/user-licence'" *ngIf="linkOpen[1]">
        <i class="fa-solid fa-book-open-reader"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Угода користувача</p>
          <p class="t-min">Правила користування сайтом</p>
        </div>
      </a>

      <a [@cardAnimation]="{value: '', params: { delay: animationDelay(5) }}" class="link-item"
        [routerLinkActive]="'active'" [routerLink]="'/support-us'" *ngIf="linkOpen[1]">
        <i class="fa-solid fa-hands-holding-child"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Підтримати</p>
          <p class="t-min">Підтримати наш проект</p>
        </div>
      </a>

      <a [@cardAnimation]="{value: '', params: { delay: animationDelay(5) }}" class="link-item"
        [routerLinkActive]="'active'" [routerLink]="'/our-team'" *ngIf="linkOpen[1]">
        <i class="fa-solid fa-brain"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Команда</p>
          <p class="t-min">Люди які займаються проектом</p>
        </div>
      </a>

      <a [@cardAnimation]="{value: '', params: { delay: animationDelay(5) }}" class="link-item"
        [routerLinkActive]="'active'" [routerLink]="'/blog'" *ngIf="linkOpen[1]">
        <i class="fa-solid fa-blog pl-2"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Блог</p>
          <p class="t-min">Корисні поради та оновлення</p>
        </div>
      </a>

      <a [@cardAnimation]="{value: '', params: { delay: animationDelay(5) }}" class="link-item"
        [routerLinkActive]="'active'" [routerLink]="'/auth/registration'" *ngIf="linkOpen[1]">
        <i class="fa-solid fa-person-walking-dashed-line-arrow-right"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Реєстрація</p>
          <p class="t-min">Зареєструвати новий аккаунт</p>
        </div>
      </a>

      <div [@appearance] class="btn-group">
        <button class="btn" (click)="closeToogleMenu(1)">
          <i class="fa-solid fa-circle-chevron-up white pr-2"></i>
          <div class="t-med white">ЗГОРНУТИ</div>
        </button>
      </div>

    </div>
  </div>
  <div class="menu" [ngClass]="{'active': menu[2]}" *ngIf="menu[2]">

    <div appClickOutside (clickOutside)="onClickedOutside(2)" class="bg-menu" [ngClass]="{'active': bgMenu === true}">

      <div class="wrapper-img" *ngIf="userData" (click)="closeToogleMenu(2)">
        <img *ngIf="userData.img && userData.img[0].img !== 'user_default.svg'" [@top4] class="img-fluid"
          [src]="serverPath + pathPhotoUser + userData.img[0].img" alt="img">
        <img *ngIf="!userData.img || userData.img[0].img === 'user_default.svg'" [@top4] class="img-fluid"
          src="../../../assets/user_default.svg" alt="img">
      </div>

      <div class="menu_title">
        Меню Користувача<i class="fa-regular fa-compass pl-2"></i>
      </div>

      <div class="w-100">
        <app-navigation-user></app-navigation-user>
      </div>

      <div [@appearance] class="btn-group">
        <button class="btn" (click)="closeToogleMenu(2)">
          <i class="fa-solid fa-circle-chevron-up white pr-2"></i>
          <div class="t-med white">ЗГОРНУТИ</div>
        </button>
      </div>

    </div>
  </div>
  <div class="menu" [ngClass]="{'active': menu[3]}" *ngIf="menu[3]">

    <div appClickOutside (clickOutside)="onClickedOutside(3)" class="bg-menu" [ngClass]="{'active': bgMenu === true}">
      <div class="wrapper-img" *ngIf="houseData" (click)="closeToogleMenu(3)">
        <img [@top4] class="img-fluid" [src]="serverPath + pathPhotoFlat + houseData.imgs[0].img" alt="img flat">
      </div>
      <div class="wrapper-img" *ngIf="!houseData" (click)="closeToogleMenu(3)">
        <img [@top4] class="img-fluid" src="./../../../assets/housing_default.svg" alt="img flat">
      </div>
      <div class="menu_title">
        Меню Оселі<i class="fa-regular fa-compass pl-2"></i>
      </div>
      <div class="menu_title" *ngIf="!houseData">
        Потрібно обрати оселю <i class="fa-solid fa-triangle-exclamation pl-2 white"></i>
      </div>

      <div class="link-container">
        <button [disabled]="!houseData" [@cardAnimation]="{value: '', params: { delay: animationDelay(5) }}"
          class="link-item" *ngIf="linkOpen[3]" [routerLinkActive]="'active'" [routerLink]="'/house'"
          (click)="closeToogleMenu(3)">
          <i class="fa-solid fa-house"></i>
          <div class="flex-column pl-2 t-e">
            <p class="t-lar-x">Моя оселя</p>
            <p class="t-min">Мій аккаунт оселі</p>
          </div>
        </button>
        <button [ngClass]="{'active': section[1]}" class="link-btn" (click)="toogleSection(1)">
          <i class="fa-solid fa-circle-chevron-down"></i>
        </button>
      </div>

      <button [disabled]="!houseData" [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(2) }}"
        class="link-item subcategory" [routerLinkActive]="'active'" [routerLink]="'/edit-house/address'"
        *ngIf="linkOpen[3] && section[1] " (click)="closeToogleMenu(3)">
        <i class="fa-solid fa-gears"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Редагувати</p>
          <p class="t-min">Редагувати Профіль Оселі</p>
        </div>
      </button>

      <a *ngIf="section[1] && houseData" [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(2) }}"
        class="link-item subcategory" [routerLinkActive]="'active'"
        [routerLink]="'/house/house-control/selection-house'" (click)="closeToogleMenu(3)">
        <i class="fa-solid fa-house-circle-check"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Управління</p>
          <p class="t-min">Вибір/Видалення оселі</p>
        </div>
      </a>

      <a *ngIf="section[1] && houseData" [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(3) }}"
        class="link-item subcategory" [routerLinkActive]="'active'" [routerLink]="'/house/house-control/add-house'"
        (click)="closeToogleMenu(3)">
        <i class="fa-solid fa-house-chimney-medical"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Створити</p>
          <p class="t-min">Додати нову оселю</p>
        </div>
      </a>

      <button [disabled]="!houseData" *ngIf="section[1] && houseData"
        [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(4) }}" class="link-item subcategory"
        (click)="logoutHouse()">
        <i class="fa-solid fa-door-open"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Вийти з оселі</p>
          <p class="t-min">Вийти з обраної оселі</p>
        </div>
      </button>

      <div *ngIf="!houseData" class="w-100 d-flex flex-column al-fe">
        <a [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(5) }}" class="link-item subcategory"
          [routerLinkActive]="'active'" [routerLink]="'/house/house-control/selection-house'"
          (click)="closeToogleMenu(3)">
          <i class="fa-solid fa-house-circle-check"></i>
          <div class="flex-column pl-2 t-e">
            <p class="t-lar-x">Управління</p>
            <p class="t-min">Вибір/Видалення оселі</p>
          </div>
        </a>

        <a [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(5) }}" class="link-item subcategory"
          [routerLinkActive]="'active'" [routerLink]="'/house/house-control/add-house'" (click)="closeToogleMenu(3)">
          <i class="fa-solid fa-house-chimney-medical"></i>
          <div class="flex-column pl-2 t-e">
            <p class="t-lar-x">Створити оселю</p>
            <p class="t-min">Додати нову оселю</p>
          </div>
        </a>
      </div>

      <div class="link-container">
        <a [@cardAnimation]="{value: '', params: { delay: animationDelay(5) }}" class="link-item" *ngIf="linkOpen[3] "
          [routerLinkActive]="'active'" [routerLink]="'/house/agree/menu'" (click)="closeToogleMenu(3)">
          <i class="fa-solid fa-envelope-open-text"></i>
          <div class="flex-column pl-2 t-e">
            <p class="t-lar-x">Меню угод</p>
            <p class="t-min">Формування та керування угодами</p>
          </div>
        </a>
        <button [ngClass]="{'active': section[2]}" class="link-btn" (click)="toogleSection(2)">
          <i class="fa-solid fa-circle-chevron-down"></i>
        </button>
      </div>

      <a [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(2) }}" class="link-item subcategory"
        [routerLinkActive]="'active'" [routerLink]="'/house/agree/step'" *ngIf="linkOpen[3] && section[2]"
        (click)="closeToogleMenu(3)">
        <i class="fa-solid fa-shoe-prints"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Пояснення</p>
          <p class="t-min">Як створити угоду</p>
        </div>
      </a>

      <a [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(2) }}" class="link-item subcategory"
        [routerLinkActive]="'active'" [routerLink]="'/agree-create'" *ngIf="linkOpen[3] && section[2]"
        (click)="closeToogleMenu(3)">
        <i class="fa-solid fa-feather-pointed"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Формування</p>
          <p class="t-min">Створення нової угоди</p>
        </div>
      </a>

      <a [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(2) }}" class="link-item subcategory"
        [routerLinkActive]="'active'" [routerLink]="'/house/agree/rewiew'" *ngIf="linkOpen[3] && section[2]"
        (click)="closeToogleMenu(1)">
        <i class="fa-solid fa-hourglass-half"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Запропоновані</p>
          <p class="t-min">Угоди які ви запропонували</p>
        </div>
      </a>

      <a [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(2) }}" class="link-item subcategory"
        [routerLinkActive]="'active'" [routerLink]="'/house/agree/concluded'" *ngIf="linkOpen[3] && section[2]"
        (click)="closeToogleMenu(1)">
        <i class="fa-solid fa-file-circle-check"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Ухвалені Угоди</p>
          <p class="t-min">Угоди підтвердили орендарі</p>
        </div>
      </a>

      <div class="link-container">
        <a [@cardAnimation]="{value: '', params: { delay: animationDelay(5) }}" class="link-item" *ngIf="linkOpen[3] "
          [routerLinkActive]="'active'" [routerLink]="'/search-tenants'" (click)="closeToogleMenu(3)">
          <i class="fa-solid fa-magnifying-glass"></i>
          <div class="flex-column pl-2 t-e">
            <p class="t-lar-x">Пошук Орендарів</p>
            <p class="t-min">Відкрити пошук орендарів</p>
          </div>
        </a>
        <button [ngClass]="{'active': section[3]}" class="link-btn" (click)="toogleSection(3)">
          <i class="fa-solid fa-circle-chevron-down"></i>
        </button>
      </div>

      <a [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(2) }}" class="link-item subcategory"
        [routerLinkActive]="'active'" [routerLink]="'/subscriptions-house'" *ngIf="linkOpen[3] && section[3]"
        (click)="closeToogleMenu(3)">
        <i class="fa-solid fa-people-pulling pl-2"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Підписки</p>
          <p class="t-min">Орендарі на яких ви підписані</p>
        </div>
      </a>

      <a [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(2) }}" class="link-item subcategory"
        [routerLinkActive]="'active'" [routerLink]="'/subscribers-house'" *ngIf="linkOpen[3] && section[3]"
        (click)="closeToogleMenu(3)">
        <i class="fa-solid fa-child-reaching pl-2"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Підписники</p>
          <p class="t-min">Орендарі які підписані на вас</p>
        </div>
      </a>

      <a [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(2) }}" class="link-item subcategory"
        [routerLinkActive]="'active'" [routerLink]="'/subscribers-discus'" *ngIf="linkOpen[3] && section[3]"
        (click)="closeToogleMenu(3)">
        <i class="fa-solid fa-person-walking-luggage"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Дискусії</p>
          <p class="t-min">Орендарі з якими я в Дискусії</p>
        </div>
      </a>

      <div class="link-container">
        <a [@cardAnimation]="{value: '', params: { delay: animationDelay(5) }}" class="link-item" *ngIf="linkOpen[3] "
          [routerLinkActive]="'active'" [routerLink]="'/communal/about'" (click)="closeToogleMenu(3)">
          <i class="fa-solid fa-chart-simple"></i>
          <div class="flex-column pl-2 t-e">
            <p class="t-lar-x">Статистика</p>
            <p class="t-min">Статистика вошої оселі</p>
          </div>
        </a>
        <button [ngClass]="{'active': section[4]}" class="link-btn" (click)="toogleSection(4)">
          <i class="fa-solid fa-circle-chevron-down"></i>
        </button>
      </div>

      <a [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(2) }}" class="link-item subcategory"
        [routerLinkActive]="'active'" [routerLink]="'/communal/add'" *ngIf="linkOpen[3] && section[4]"
        (click)="closeToogleMenu(3)">
        <i class="fa-solid fa-sliders"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Керування</p>
          <p class="t-min">Створення/редагуання/видалення</p>
        </div>
      </a>

      <a [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(2) }}" class="link-item subcategory"
        [routerLinkActive]="'active'" [routerLink]="'/communal/stat-month'" *ngIf="linkOpen[3] && section[4]"
        (click)="closeToogleMenu(3)">
        <i class="fa-solid fa-calendar-day"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Місяць</p>
          <p class="t-min">Статистика за місяць</p>
        </div>
      </a>

      <a [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(2) }}" class="link-item subcategory"
        [routerLinkActive]="'active'" [routerLink]="'/communal/stat-year'" *ngIf="linkOpen[3] && section[4]"
        (click)="closeToogleMenu(3)">
        <i class="fa-solid fa-chart-pie"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Рік</p>
          <p class="t-min">Статистика за рік</p>
        </div>
      </a>

      <div class="link-container">
        <a [@cardAnimation]="{value: '', params: { delay: animationDelay(5) }}" class="link-item" *ngIf="linkOpen[3] "
          [routerLinkActive]="'active'" [routerLink]="'/add-objects'" (click)="closeToogleMenu(3)">
          <i class="fa-solid fa-boxes-packing"></i>
          <div class="flex-column pl-2 t-e">
            <p class="t-lar-x">Наповнення</p>
            <p class="t-min">Перегляд & Додавання & Видалення</p>
          </div>
        </a>
        <!-- <button [ngClass]="{'active': section[5]}" class="link-btn" (click)="toogleSection(5)">
          <i class="fa-solid fa-circle-chevron-down"></i>
        </button> -->
      </div>

      <div class="link-container">
        <a [@cardAnimation]="{value: '', params: { delay: animationDelay(5) }}" class="link-item" *ngIf="linkOpen[3] "
          [routerLinkActive]="'active'" [routerLink]="'/house/residents/'" (click)="closeToogleMenu(3)">
          <i class="fa-solid fa-people-roof"></i>
          <div class="flex-column pl-2 t-e">
            <p class="t-lar-x">Мешканці</p>
            <p class="t-min">Інформація & Доступи & Відгуки</p>
          </div>
        </a>
        <button [ngClass]="{'active': section[6]}" class="link-btn" (click)="toogleSection(6)">
          <i class="fa-solid fa-circle-chevron-down"></i>
        </button>
      </div>

      <a [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(2) }}" class="link-item subcategory"
        [routerLinkActive]="'active'" [routerLink]="'/house/residents/all-residents'" *ngIf="linkOpen[3] && section[6]"
        (click)="closeToogleMenu(3)">
        <i class="fa-solid fa-users"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Мешканці</p>
          <p class="t-min">Інформація про мешканців</p>
        </div>
      </a>

      <!-- <a [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(2) }}" class="link-item subcategory"
        [routerLinkActive]="'active'" [routerLink]="'/house/residents/owner'" *ngIf="linkOpen[3] && section[6]"
        (click)="closeToogleMenu(3)">
        <i class="fa-solid fa-id-card-clip"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Власник</p>
          <p class="t-min">Інформація про власника</p>
        </div>
      </a> -->

      <a [@cardAnimationLeft]="{value: '', params: { delay: animationDelay(2) }}" class="link-item subcategory"
        [routerLinkActive]="'active'" [routerLink]="'/house/residents/add'" *ngIf="linkOpen[3] && section[6]"
        (click)="closeToogleMenu(3)">
        <i class="fa-solid fa-user-plus"></i>
        <div class="flex-column pl-2 t-e">
          <p class="t-lar-x">Додати</p>
          <p class="t-min">Додати мешканця</p>
        </div>
      </a>

      <div class="link-container">
        <a [@cardAnimation]="{value: '', params: { delay: animationDelay(5) }}" class="link-item" *ngIf="linkOpen[3] "
          [routerLinkActive]="'active'" [routerLink]="'/chat-house'" (click)="closeToogleMenu(3)">
          <i class="fa-solid fa-message"></i>
          <div class="flex-column pl-2 t-e">
            <p class="t-lar-x">Повідомлення</p>
            <p class="t-min">Відкрити всі чати оселі</p>
          </div>
        </a>
        <!-- <button [ngClass]="{'active': section[2]}" class="link-btn" (click)="toogleSection(3)">
          <i class="fa-solid fa-circle-chevron-down"></i>
        </button> -->
      </div>

      <div [@appearance] class="btn-group">
        <button class="btn" (click)="closeToogleMenu(3)">
          <i class="fa-solid fa-circle-chevron-up white pr-2"></i>
          <div class="t-med white">ЗГОРНУТИ</div>
        </button>
      </div>

    </div>

  </div>
</div>
