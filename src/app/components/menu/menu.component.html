<div class="menu-container">
  <button (click)="toggleAllMenu(5)" class="btn-logo">
    <!-- <img class="logo" src="{{path_logo}}" alt="logo"> -->
    <img class="logo" src="../../../assets/logo/discussio.png" alt="logo">
  </button>

  <button class="btn btn-menu" [routerLinkActive]="'active'" [routerLink]="'/search'">
    <i class="fa-solid fa-magnifying-glass"></i>
    <div class="t-min">Пошук</div>
  </button>

  <button (click)="toggleAllMenu(3)" class="btn btn-menu">
    <i class="fa-regular fa-message"></i>
    <div class="t-min">Повідом.</div>
    <div class="notification"
      *ngIf="counterHouseNewMessage && counterHouseNewMessage !== false || counterUserNewMessage && counterUserNewMessage !== false">
    </div>
  </button>

  <button (click)="toggleAllMenu(2)" class="btn btn-menu">
    <i class="fa-solid fa-person-shelter"></i>
    <div class="t-min">Оселя</div>
  </button>

  <button (click)="toggleAllMenu(1)" class="btn btn-menu">
    <i class="fa-solid fa-person-half-dress"></i>
    <div class="t-min">Профіль</div>
    <div class="notification" *ngIf="counterUserNewAgree && counterUserNewAgree !== 0"></div>
  </button>
</div>

<div class="menu" (click)="toggleAllMenu(1)" *ngIf="menu[1]">

  <div [@cardAnimation]="{value: '', params: { delay: animationDelay(0) }}" class="t-lar-xx bold white t-e mr-2"
    *ngIf="linkOpen[1]">Меню <br> користувача</div>

  <button [disabled]="!authorization" [@cardAnimation]="{value: '', params: { delay: animationDelay(1) }}" class="link"
    [routerLinkActive]="'active'" [routerLink]="'/information-user'" *ngIf="linkOpen[1]">
    <i class="fa-solid fa-user-gear"></i>
    <div class="t-lar-x t-e pl-2">Налаштування</div>
  </button>

  <button [disabled]="!authorization" [@cardAnimation]="{value: '', params: { delay: animationDelay(2) }}" class="link"
    [routerLinkActive]="'active'" [routerLink]="'/user/info'" *ngIf="linkOpen[1]">
    <i class="fa-solid fa-person-half-dress"></i>
    <div class="t-lar-x t-e pl-2">Профіль користувача</div>
  </button>

  <button [disabled]="!authorization" [@cardAnimation]="{value: '', params: { delay: animationDelay(3) }}" class="link"
    [routerLinkActive]="'active'" [routerLink]="'/looking'" *ngIf="linkOpen[1]">
    <i class="fa-solid fa-person-hiking"></i>
    <div class="t-lar-x t-e pl-2">Профіль орендара</div>
  </button>

  <button [disabled]="!authorization" [@cardAnimation]="{value: '', params: { delay: animationDelay(4) }}" class="link"
    [routerLinkActive]="'active'" [routerLink]="'/user/uagree-menu'" *ngIf="linkOpen[1]">
    <div class="flex-box">
      <i class="fa-solid fa-handshake-angle"></i>
      <div class="status" *ngIf="counterUserNewAgree && counterUserNewAgree !== 0">
        <i class="fa-solid fa-envelope-open-text"></i>
      </div>
    </div>
    <div class="t-lar-x t-e pl-2">Угоди орендара</div>
  </button>

  <button [disabled]="!authorization" [@cardAnimation]="{value: '', params: { delay: animationDelay(5) }}" class="link"
    [routerLinkActive]="'active'" [routerLink]="'/subscribers-host-user/subscriptions-user'" *ngIf="linkOpen[1]">
    <div class="flex-box">
      <i class="fa-regular fa-heart"></i>
      <div class="status" *ngIf="counterUserSubscriptions && counterUserSubscriptions !== 0">
        {{counterUserSubscriptions}} </div>
    </div>
    <div class="t-lar-x t-e pl-2">Вподобання</div>
  </button>

  <button [disabled]="!authorization" [@cardAnimation]="{value: '', params: { delay: animationDelay(6) }}" class="link"
    [routerLinkActive]="'active'" [routerLink]="'/subscribers-host-user/subscribers-user'" *ngIf="linkOpen[1]">
    <div class="flex-box">
      <i class="fa-solid fa-people-pulling"></i>
      <div class="status" *ngIf="counterUserSubscribers && counterUserSubscribers !== 0">
        {{counterUserSubscribers}}</div>
    </div>
    <div class="t-lar-x t-e pl-2">Пропозиції</div>
  </button>

  <button [disabled]="!authorization" [@cardAnimation]="{value: '', params: { delay: animationDelay(7) }}" class="link"
    [routerLinkActive]="'active'" [routerLink]="'/subscribers-host-user/subscribers-discuss'" *ngIf="linkOpen[1]">
    <div class="flex-box">
      <i class="fa-solid fa-person-walking-luggage"></i>
      <div class="status" *ngIf="counterUserDiscussio && counterUserDiscussio !== 0">
        {{counterUserDiscussio}}
      </div>
    </div>
    <div class="t-lar-x t-e pl-2">Дискусії</div>
  </button>

</div>

<div class="menu" (click)="toggleAllMenu(2)" *ngIf="menu[2]">

  <div [@cardAnimation]="{value: '', params: { delay: animationDelay(0) }}" class="t-lar-xx bold white t-e mr-2"
    *ngIf="linkOpen[2]">Меню оселі</div>

  <button [disabled]="!authorization || !selectedFlatId || acces_flat_features !== 1"
    [@cardAnimation]="{value: '', params: { delay: animationDelay(1) }}" class="link" [routerLinkActive]="'active'"
    [routerLink]="'/housing-parameters/host/'" *ngIf="linkOpen[2]">
    <i class="fa-solid fa-gear"></i>
    <div class="t-lar-x t-e pl-2">Налаштування</div>
  </button>

  <button [disabled]="!authorization" [@cardAnimation]="{value: '', params: { delay: animationDelay(2) }}" class="link"
    [routerLinkActive]="'active'" [routerLink]="'/house/house-info'" *ngIf="linkOpen[2]">
    <i class="fa-solid fa-person-shelter"></i>
    <div class="t-lar-x t-e pl-2">Профіль оселі</div>
  </button>

  <button [disabled]="!authorization || !selectedFlatId || acces_filling !== 1"
    [@cardAnimation]="{value: '', params: { delay: animationDelay(3) }}" class="link" [routerLinkActive]="'active'"
    [routerLink]="'/house/filling'" *ngIf="linkOpen[2]">
    <i class="fa-solid fa-boxes-packing"></i>
    <div class="t-lar-x t-e pl-2">Наповнення</div>
  </button>

  <button [disabled]="!authorization || !selectedFlatId || acces_agreement !== 1"
    [@cardAnimation]="{value: '', params: { delay: animationDelay(4) }}" class="link" [routerLinkActive]="'active'"
    [routerLink]="'/house/agree-menu'" *ngIf="linkOpen[2]">
    <i class="fa-solid fa-handshake-angle"></i>
    <div class="t-lar-x t-e pl-2">Угоди оселі</div>
  </button>

  <button [disabled]="!authorization || !selectedFlatId || acces_comunal_indexes !== 1"
    [@cardAnimation]="{value: '', params: { delay: animationDelay(5) }}" class="link" [routerLinkActive]="'active'"
    [routerLink]="'/housing-services/host-comun'" *ngIf="linkOpen[2]">
    <i class="fa-solid fa-chart-pie"></i>
    <div class="t-lar-x t-e pl-2">Статистика</div>
  </button>

  <button [disabled]="!authorization || !selectedFlatId || acces_subs !== 1"
    [@cardAnimation]="{value: '', params: { delay: animationDelay(6) }}" class="link" [routerLinkActive]="'active'"
    [routerLink]="'/subscribers-host/subscribers-house'" *ngIf="linkOpen[2]">
    <i class="fa-solid fa-child-reaching"></i>
    <div class="t-lar-x t-e pl-2">Підписники</div>
    <div class="status" *ngIf="counterHouseSubscribers && counterHouseSubscribers !== 0">
      {{counterHouseSubscribers}}
    </div>
  </button>

  <button [disabled]="!authorization || !selectedFlatId"
    [@cardAnimation]="{value: '', params: { delay: animationDelay(7) }}" class="link" [routerLinkActive]="'active'"
    [routerLink]="'/house/resident'" *ngIf="linkOpen[2]">
    <i class="fa-solid fa-people-roof"></i>
    <div class="t-lar-x t-e pl-2">Мешканці</div>
  </button>

  <button [disabled]="!authorization || !selectedFlatId || acces_subs !== 1"
    [@cardAnimation]="{value: '', params: { delay: animationDelay(8) }}" class="link" [routerLinkActive]="'active'"
    [routerLink]="'/subscribers-host/subscriptions-house'" *ngIf="linkOpen[2]">
    <i class="fa-solid fa-people-pulling"></i>
    <div class="t-lar-x t-e pl-2">Підписки</div>
    <div class="status" *ngIf="counterHouseSubscriptions && counterHouseSubscriptions !== 0">
      {{counterHouseSubscriptions}}
    </div>
  </button>

  <button [disabled]="!authorization || !selectedFlatId || acces_discuss !== 1"
    [@cardAnimation]="{value: '', params: { delay: animationDelay(9) }}" class="link" [routerLinkActive]="'active'"
    [routerLink]="'/subscribers-host/subscribers-discus'" *ngIf="linkOpen[2]">
    <i class="fa-solid fa-person-walking-luggage"></i>
    <div class="t-lar-x t-e pl-2">Дискусії </div>
    <div class="status" *ngIf="counterHouseDiscussio && counterHouseDiscussio !== 0">
      {{counterHouseDiscussio}}
    </div>
  </button>



</div>

<div class="menu" (click)="toggleAllMenu(3)" *ngIf="menu[3]">

  <div [@cardAnimation]="{value: '', params: { delay: animationDelay(0) }}" class="t-lar-xx bold white t-e mr-2"
    *ngIf="linkOpen[3]">Повідомлення</div>

  <button [disabled]="!authorization" [@cardAnimation]="{value: '', params: { delay: animationDelay(1) }}" class="link"
    [routerLinkActive]="'active'" [routerLink]="'/chat-host'" *ngIf="linkOpen[3]">
    <i class="fa-solid fa-person-half-dress"></i>
    <div class="t-lar-x t-e pl-2">Користувача</div>
    <div class="status" *ngIf="counterUserNewMessage && counterUserNewMessage !== false">
      {{counterUserNewMessage}}
    </div>
  </button>

  <button [disabled]="!authorization || !selectedFlatId || acces_flat_chats !== 1"
    [@cardAnimation]="{value: '', params: { delay: animationDelay(2) }}" class="link" [routerLinkActive]="'active'"
    [routerLink]="'/chat'" *ngIf="linkOpen[3]">
    <i class="fa-regular fa-comments"></i>
    <div class="t-lar-x t-e pl-2">Оселі</div>
    <div class="status" *ngIf="counterHouseNewMessage && counterHouseNewMessage !== false">
      {{counterHouseNewMessage}}
    </div>
  </button>
</div>

<div class="menu" (click)="toggleAllMenu(4)" *ngIf="menu[4]">
  <div [@cardAnimation]="{value: '', params: { delay: animationDelay(0) }}" class="t-lar-xx bold white t-e mr-2"
    *ngIf="linkOpen[4]">Пошук</div>

  <button [@cardAnimation]="{value: '', params: { delay: animationDelay(1) }}" class="link"
    [routerLinkActive]="'active'" [routerLink]="'/search-house'" *ngIf="linkOpen[4]">
    <i class="fa-solid fa-people-roof"></i>
    <div class="t-lar-x t-e pl-2">Оселі</div>
  </button>

  <button [@cardAnimation]="{value: '', params: { delay: animationDelay(2) }}" class="link"
    [routerLinkActive]="'active'" [routerLink]="'/search-tenants'" *ngIf="linkOpen[4]">
    <i class="fa-solid fa-people-pulling"></i>
    <div class="t-lar-x t-e pl-2">Орендара</div>
  </button>
</div>

<div class="menu" (click)="toggleAllMenu(5)" *ngIf="menu[5]">


  <div [@cardAnimation]="{value: '', params: { delay: animationDelay(0) }}" class="t-lar-xx bold white t-e mr-2"
    *ngIf="linkOpen[5]">Discussio
    <div class="t-min white mr-2">version 1.01</div>
  </div>

  <button [@cardAnimation]="{value: '', params: { delay: animationDelay(1) }}" class="link"
    [routerLinkActive]="'active'" [routerLink]="'/support-us'" *ngIf="linkOpen[5]">
    <i class="fa-solid fa-hands-holding-child"></i>
    <div class="t-lar-x t-e pl-2">Підтримати проект</div>
  </button>

  <button [@cardAnimation]="{value: '', params: { delay: animationDelay(2) }}" class="link"
    [routerLinkActive]="'active'" [routerLink]="'/user-licence'" *ngIf="linkOpen[5]">
    <i class="fa-solid fa-signature"></i>
    <div class="t-lar-x t-e pl-2">Угода користувача</div>
  </button>

  <button [@cardAnimation]="{value: '', params: { delay: animationDelay(3) }}" class="link"
    [routerLinkActive]="'active'" [routerLink]="'/opportunities'" *ngIf="linkOpen[5]">
    <i class="fa-solid fa-toolbox"></i>
    <div class="t-lar-x t-e pl-2">Функції Discussio</div>
  </button>

  <button [disabled]="!authorization" [@cardAnimation]="{value: '', params: { delay: animationDelay(4) }}" class="link"
    [routerLinkActive]="'active'" [routerLink]="'/feedback'" *ngIf="linkOpen[5]">
    <i class="fa-solid fa-pen-clip"></i>
    <div class="t-lar-x t-e pl-2">Залишити відгук</div>
  </button>

  <button [@cardAnimation]="{value: '', params: { delay: animationDelay(5) }}" class="link"
    [routerLinkActive]="'active'" [routerLink]="'/our-team'" *ngIf="linkOpen[5]">
    <i class="fa-solid fa-brain"></i>
    <div class="t-lar-x t-e pl-2">Розробники</div>
  </button>

  <button [@cardAnimation]="{value: '', params: { delay: animationDelay(6) }}" class="link"
    [routerLinkActive]="'active'" [routerLink]="'/about-project'" *ngIf="linkOpen[5]">
    <i class="fa-solid fa-barcode"></i>
    <div class="t-lar-x t-e pl-2">Про нас</div>
  </button>

  <button [@cardAnimation]="{value: '', params: { delay: animationDelay(7) }}" class="link"
    [routerLinkActive]="'active'" [routerLink]="'/registration'" *ngIf="linkOpen[5] && !loginCheck">
    <i class="fa-regular fa-circle-user"></i>
    <div class="t-lar-x t-e pl-2">Реєстрація</div>
  </button>

  <button [@cardAnimation]="{value: '', params: { delay: animationDelay(7) }}" class="link" (click)="logout()"
    *ngIf="linkOpen[5] && loginCheck">
    <i class="fa-solid fa-arrow-right-from-bracket"></i>
    <div class="t-lar-x t-e pl-2">Вийти</div>
  </button>

</div>

<ng-container *ngIf="loading">
  <app-loader></app-loader>
</ng-container>

<div *ngIf="statusMessage" class="status-message">
  <div class="status-message-text">{{ statusMessage }}</div>
  <img class="status-message-logo" src="{{path_logo}}" alt="logo">
  <div class="status-message-name">Discussio</div>
</div>
