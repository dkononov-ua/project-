<ng-container *ngIf="loading; else content">
  <app-loader></app-loader>
</ng-container>

<ng-template #content>

  <div id="agreement-container">
    <div class="agree">
      <div class="close-box">
        <a class="btn-close" [routerLinkActive]="'active'" [routerLink]="'/user/uagree-review'"></a>
      </div>
      <div class="title-box m-2">
        <div class="title-group w-70">
          <div class="title">Угода оренди нерухомого майна</div>
          <div>Місце укладання угоди:<span class="accent">{{ agreeInfo?.flat?.city }}</span></div>
          <div>Дата:<span class="accent">{{agreeInfo?.flat?.agreementDate | date}}</span></div>
        </div>
        <div class="title-group w-30">
          <div class="box">
            <img class="logo" src="../../../assets/logo/Discussio (7).svg" alt="">
            <div class="item-description">© Discussio. Угода</div>
          </div>
        </div>
      </div>
      <div class="flex-column">
        <div class="wrapper-group border-top">
          <div class="agree-wrapper">
            <div class="item-description">Сторона орендодавця</div>
            <div class="item-description accent"><span class="item-description">П.І.Б: </span>
              {{ agreeInfo?.flat?.owner_lastName }}{{ agreeInfo?.flat?.owner_firstName }}
              {{ agreeInfo?.flat?.owner_surName }}</div>
            <div class="item-description accent"><span class="item-description">User ID: </span>
              {{ agreeInfo?.flat?.owner_id }}</div>
            <div class="item-description accent"><span class="item-description">Телефон:</span>
              {{ agreeInfo?.flat?.owner_tell }}</div>
            <div class="item-description accent"><span class="item-description">Email:</span>
              {{ agreeInfo?.flat?.owner_email }}</div>
          </div>
          <div class="agree-wrapper">
            <div class="item-description">Сторона орендара</div>
            <div class="item-description accent"><span class="item-description">П.І.Б:</span>
              {{agreeInfo?.flat?.subscriber_lastName }}{{agreeInfo?.flat?.subscriber_firstName }}
              {{agreeInfo?.flat?.subscriber_surName}}</div>
            <div class="item-description accent"><span class="item-description">User ID:</span>
              {{agreeInfo?.flat?.subscriber_id }}</div>
            <div class="item-description accent"><span class="item-description">Телефон:</span>
              {{agreeInfo?.flat?.subscriber_tell }}</div>
            <div class="item-description accent"><span class="item-description">Email:</span>
              {{agreeInfo?.flat?.subscriber_email }} </div>
          </div>
        </div>

        <div class="item-description border-bottom pb-1 mb-1">Сторона орендодавця іменований надалі "Орендодавець", з
          одного боку,
          і cторона орендара іменований надалі "Орендар", з іншого боку, а разом «Сторони», уклали Угоду (далі
          Угода) про наступне:</div>
      </div>
      <div class="container-box">
        <ul>1. Предмет угоди
          <li>1.1. Предметом цієї угоди є тимчасова здача в найм (оренду) на оплатній основі, Орендарю житлового
            приміщення (на правах власності/знаходиться в розпорядженні) У вигляді
            <span class="accent"
              *ngIf="agreeInfo?.flat?.option_flat == 1 && agreeInfo?.flat?.room == 0">будинку</span>
            <span class="accent"
              *ngIf="agreeInfo?.flat?.option_flat == 2 && agreeInfo?.flat?.room == 0">квартири</span>
            <span class="accent"
              *ngIf="agreeInfo?.flat?.room == 1 && agreeInfo?.flat?.option_flat == 1">кімнати в
              будинку</span>
            <span class="accent"
              *ngIf="agreeInfo?.flat?.room == 1 && agreeInfo?.flat?.option_flat == 2">кімнати в
              квартирі</span>
            <span *ngIf="!agreeInfo?.flat?.option_flat">___________________________</span>
            площею:
            <span class="accent">{{agreeInfo?.flat?.area}} м²</span>,
            <span *ngIf="!agreeInfo?.flat?.area">________________,</span>
            поверх:
            <span class="accent">{{agreeInfo?.flat?.floor}}</span> <br>
            знаходиться за адресою:
            <span class="accent"> вулиця {{ agreeInfo?.flat?.street }},
              будинок {{ agreeInfo?.flat?.houseNumber }}, квартира {{ agreeInfo?.flat?.apartment
              }}</span>.
          <li>1.2. Право власності (розпорядження) Орендодавця на вказаний Об'єкт нерухомості підтверджується:
            <span class="accent" *ngIf="agreeInfo?.flat?.ownership">{{ agreeInfo?.flat?.ownership
              }}</span>
            <span *ngIf="!agreeInfo?.flat?.ownership">_______________________________________</span>
          </li>
          <li>1.3. Орендодавець підтверджує, що даний Об'єкт нерухомості нікому раніше не проданий, не подарований, не
            закладений, в спорі і під арештом не перебуває, і претензій з боку третіх осіб до нього не має. За надання
            для підписання даного угоди неповних і недостовірних даних, що стосуються Об'єкту нерухомості,
            Орендодавець несе відповідальність перед Орендарем відповідно до чинного законодавства України.</li>
        </ul>
        <ul>2. Права та обов’язки Сторін
          <li>2.1. Права та обов'язки Орендодавця відповідно до умов цього угоди:</li>
          <li>2.1.1. Передати Орендарю Об'єкт нерухомості протягом
            <span class="accent" *ngIf="agreeInfo?.flat?.transferHouse! >1"> {{
              agreeInfo?.flat?.transferHouse }} днів</span>
            <span class="accent" *ngIf="agreeInfo?.flat?.transferHouse === 1"> {{
              agreeInfo?.flat?.transferHouse }} дня</span>
            <span *ngIf="!agreeInfo?.flat?.transferHouse">________________днів </span> з моменту підписання
            цього
            угоди відповідно до Акту прийому-передачі житлового приміщення (Додаток №1 до угоди).
          </li>
          <li>2.1.2. Надати Орендарю Об'єкт нерухомості, який є предметом цього угоди в придатному для використання
            за призначенням стані.</li>
          <li>2.2. Права та обов'язки Орендаря відповідно до умов цього угоди:</li>
          <li>2.2.1. Прийняти Об'єкт нерухомості в терміни і на умовах, визначених угодою, і використовувати Об'єкт
            нерухомості лише для проживання в ньому.
          </li>
          <li>2.2.2. Забезпечувати збереження та утримання в належному стані Об'єкту нерухомості на умовах, визначених
            цією угодою, не допускаючи його псування або приведення в непридатність.
          </li>
          <li>2.2.3. Перевірити в присутності Орендодавця справність майна і зробити відповідні позначки в Додатку №1 до
            угоди.
          </li>
          <li>2.2.4. Дотримуватися умов цього угоди щодо своєчасності та повноти внесення орендної плати та інших
            платежів.
          </li>
          <li>2.2.5. Своєчасно повідомляти Орендодавця про несправності технічних пристроїв Об'єкту нерухомості.
          </li>
          <li>2.2.6. Звільнити і здати Орендодавцю Об'єкт нерухомості в належному стані з урахуванням нормального
            фізичного зносу протягом
            <span class="accent" *ngIf="agreeInfo?.flat?.vacateHouse == 1"> {{
              agreeInfo?.flat?.vacateHouse }} дня</span>
            <span class="accent" *ngIf="agreeInfo?.flat?.vacateHouse > 1"> {{
              agreeInfo?.flat?.vacateHouse }} днів</span>
            <span *ngIf="!agreeInfo?.flat?.vacateHouse">________________ днів </span>
            з моменту закінчення терміну дії (розірвання) цього угоди
            згідно з Актом здачі житлового приміщення.
          </li>
        </ul>
        <ul>3.Орендна плата
          <li> 3.1. Орендна плата за використання квартири та майна становить:
            <span class="accent" *ngIf="agreeInfo?.flat?.option_pay == 0">{{agreeInfo?.flat?.price_m}}
              на
              місяць.</span>
            <span class="accent" *ngIf="agreeInfo?.flat?.option_pay == 1">{{agreeInfo?.flat?.price_d}}
              за
              добу.</span>
          </li>
          <li>3.2. Орендна плата вноситься не пізніше
            <span class="accent" *ngIf="agreeInfo?.flat?.rent_due_data">
              {{ agreeInfo?.flat?.rent_due_data }} числа</span>
            <span *ngIf="!agreeInfo?.flat?.rent_due_data"> _______ числа</span> кожного місяця
          </li>
          <li>3.3. Оплату за комунальні послуги: за електроенергію, газ, холодну, гарячу воду (за лічильниками),
            інтернет кабель, тв, телефон, опалення здійснює
            <span class="accent" *ngIf="agreeInfo?.flat?.whoPayComun === 0"> Орендодавець </span>
            <span class="accent" *ngIf="agreeInfo?.flat?.whoPayComun === 1"> Орендар </span>
          </li>
          <li>3.4. Оплата заставної суми
            <span class="accent" *ngIf="agreeInfo?.flat?.depositPayment"> {{
              agreeInfo?.flat?.depositPayment }} грн </span>
            <span *ngIf="!agreeInfo?.flat?.depositPayment">______________________________________________</span>
            яка вертається Орендодавцем після закінчення цього угоди
          </li>
        </ul>

        <ul>4. Термін дії, порядок продовження і розірвання угоди
          <li> 4.1. Термін дії цього угоди встановлений
            <span class="accent"
              *ngIf="agreeInfo?.flat?.dateAgreeStart && agreeInfo?.flat?.dateAgreeEnd">
              з
              {{ agreeInfo?.flat?.dateAgreeStart | date}} по
              {{ agreeInfo?.flat?.dateAgreeEnd | date}}</span>
            <span *ngIf="!agreeInfo?.flat?.dateAgreeStart">з «____»____________________20____р.</span>
            <span *ngIf="!agreeInfo?.flat?.dateAgreeEnd">по «____»____________________20____р.</span>
          </li>
          <li> 4.2. Моментом фактичного використання Об'єкту нерухомості за угодою є підписання Сторонами Акту
            прийому-передачі житлового приміщення (Додаток №1 до угоди).
          </li>
          <li> 4.3. У разі несплати ОРЕНДАРЕМ Орендної плати або комунальних та інших платежів, передбачених
            угодою протягом 7-ми календарних днів з моменту, визначеного угодою, ОРЕНДОДАВЕЦЬ має право
            достроково розірвати Угоду в односторонньому порядку.
          </li>
          <li> 4.4. Порушенням угоди є його невиконання або неналежне виконання, тобто виконання з порушенням умов,
            визначених змістом цього угоди.
          </li>
          <li> 4.5. Дострокове розірвання даного угоди, а також зміна його умов, можливі за ініціативою однієї зі
            Сторін, з повідомленням про це іншої Сторони не менше ніж за
            <span class="accent" *ngIf="agreeInfo?.flat?.dateAgreeBreakUp == 1"> {{
              agreeInfo?.flat?.dateAgreeBreakUp }} день.</span>
            <span class="accent" *ngIf="agreeInfo?.flat?.dateAgreeBreakUp > 1"> {{
              agreeInfo?.flat?.dateAgreeBreakUp }} днів.</span>
            <span *ngIf="!agreeInfo?.flat?.dateAgreeBreakUp">
              ___________________________________________________(прописом – днів / міс.)
            </span>
          </li>
          <li> 4.6. Інші умови та порядок продовження, розірвання даного угоди передбачені чинним законодавством
            України.
          </li>
        </ul>

        <ul> 5. Відповідальність Сторін
          <li> 5.1. Відповідальність за справний технічний стан Об'єкта нерухомості на термін дії угоди несе
            Орендодавець.
          </li>
          <li> 5.2. Орендар несе відповідальність за правильне і безпечне використання Об'єкту нерухомості та майна
            Орендодавця, що передано Орендарю у користування разом з Об'єктом нерухомості.
          </li>
          <li> 5.3. Збиток, заподіяний Орендодавцю або третім особам внаслідок порушення Орендарем умов угоди,
            відшкодовується Орендарем самостійно і в повному обсязі.
          </li>
          <li> 5.4. Після закінчення терміну оренди нерухомості орендар зобов'язується здати її в чистому вигляді, або
            залишити кошти на клінінг.
          </li>
          <li> 5.5. Спірні питання за угодою вирішуються в порядку, встановленому чинним законодавством України.
          </li>
        </ul>

        <ul> 6. Інші умови
          <li> 6.1. Даним угодою встановлюється, що Орендодавець має право відвідувати Об'єкт нерухомості з метою
            технічного огляду, профілактики та обслуговування об'єкта нерухомості тільки в присутності Орендаря і не
            частіше
            <span class="accent" *ngIf="agreeInfo?.flat?.numberVisits == 1">
              {{ agreeInfo?.flat?.numberVisits}} разу на місяць.</span>
            <span class="accent" *ngIf="agreeInfo?.flat?.numberVisits  > 1">
              {{ agreeInfo?.flat?.numberVisits}} разів на місяць.</span>
            <span *ngIf="!agreeInfo?.flat?.numberVisits"> _____________________________раз на місяць.</span>
          </li>
          <li>6.2. Зазначені в п. 6.1 відвідування повинні проводитися з попередженням про це Орендаря, в узгоджений між
            Сторонами час.
          </li>
          <li>6.3. Орендар не має права проводити перевлаштування та реконструкцію Об'єкту нерухомості, змінювати стан
            майна без письмової згоди Орендодавця,а також міняти замки.
          </li>
          <li>6.4. Орендар не має права передавати квартиру, як в цілому, так і частково в суборенду або користування
            третім особам, без письмової згоди Орендодавця.
          </li>
          <li>6.5. Майно, що передається Орендарю для оренди буде використовуватися ним у якості житлового приміщення
            для проживання перелічених осіб:
            <span class="accent" *ngIf="agreeInfo?.flat?.personsReside"> {{
              agreeInfo?.flat?.personsReside
              }} </span>
            <span *ngIf="!agreeInfo?.flat?.personsReside">
              ______________________________________________________________________________________________________________________________</span>
          </li>
          <li> 6.6. Ця Угода складена в двох примірниках, які мають однакову юридичну силу з відповідною кількістю
            Додатків і Додаткових угод, які є невід'ємною частиною даного угоди.
          </li>
          <li> 6.7. Зміни умов угоди здійснюється в письмовому вигляді по взаємній згоді Сторін;
          </li>
          <li> 6.8. Взаємовідносини Сторін, які не врегульовані угодою, регламентуються чинним законодавством
            України.
          </li>
        </ul>
      </div>
      <div class="container-box" *ngIf="agreeInfo?.flat?.about_agree">
        <ul>7. Додаткові умови від власника.
        </ul>
      </div>
      <div class="container-box" *ngIf="agreeInfo?.flat?.about_agree">
        <span class="accent about">{{ agreeInfo?.flat?.about_agree }}</span>
      </div>
      <div class="container-box">
        <div class="col-lg-6 col-md-6 col-sm-6 col-6">
          <div class="m-2">
            <div class="item-description bold">Орендодавець:</div>
            <div class="input-box">
              <p class="item-description">Паспорт №</p>
            </div>
            <div class="input-box">
              <p class="item-description">Серія</p>
            </div>
            <div class="input-box">
              <p class="item-description">Виданий</p>
            </div>
            <div class="input-box">
              <p class="item-description">Проживає за адресою:</p>
            </div>
            <div class="input-box">
              <div class="item-description w-75"> {{agreeInfo?.flat?.owner_lastName}}
                {{agreeInfo?.flat?.owner_firstName}} {{agreeInfo?.flat?.owner_surName}}</div>
              <div class="signature w-25">підпис</div>
            </div>

          </div>
        </div>

        <div class="col-lg-6 col-md-6 col-sm-6 col-6 pb-5">
          <div class="m-2">
            <div class="item-description bold">Орендар:</div>

            <div class="input-box">
              <p class="item-description">Паспорт №</p>
            </div>

            <div class="input-box">
              <p class="item-description">Серія</p>
            </div>

            <div class="input-box">
              <p class="item-description">Виданий</p>
            </div>

            <div class="input-box">
              <p class="item-description">Проживає за адресою:</p>
            </div>

            <div class="input-box">
              <div class="item-description w-75"> {{agreeInfo?.flat?.subscriber_lastName}}
                {{agreeInfo?.flat?.subscriber_firstName}} {{agreeInfo?.flat?.subscriber_surName}}
              </div>
              <div class="signature w-25">підпис</div>
            </div>

          </div>
        </div>

      </div>

      <div class="agree-field m-3 p-3">
        <div class="content">
          <div class="mr-3">Із вимогами угоди оренди ознайомлений.</div>
          <label class="checkBox">
            <input type="checkbox" [(ngModel)]="isCheckboxChecked">
            <div class="transition"></div>
          </label>
          <i></i>
        </div>

        <div class="btn-group mt-2">
          <button class="btn m-2" type="submit" [disabled]="!isCheckboxChecked"
            (click)="agreeAgreement()">Так, з умовами погоджуюсь</button>
          <button class="btn m-2" matTooltip="Видалити угоду" (click)="openDialog()">Ні, відхилити
            угоду.
          </button>
        </div>
      </div>
    </div>
  </div>

</ng-template>

<div *ngIf="statusMessage" class="status-message">
  <div>
    <img src="../../../../assets/logo/Discussio (7).svg" alt="Logo">
  </div>
  {{ statusMessage }}
</div>
