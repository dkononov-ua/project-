<ng-container *ngIf="loading; else content">
  <app-loader></app-loader>
</ng-container>

<ng-template #content>


  <div class="container-box">
    <app-selection-housing class="hide-pc w-100 mb-2"></app-selection-housing>

    <div class="card-box col-lg-6 col-md-6 col-sm-12 col-12">
      <div class="card mb-3">

        <div class="status-container">
          <div class="status-box">
            <div class="status-value" *ngIf="house.rent === 1">Активне</div>
            <div class="status-value" *ngIf="house.rent === 0">Не опублікована</div>
            <div class="status-value" *ngIf="house.private === 1">Приватно</div>
          </div>
          <div class="status-hover">
            <div class="status-hover-label">Допомога</div>
            <div class="status-hover-text">
              <ul *ngIf="house.rent === 1">
                Статус оселі:
                <li *ngIf="house.rent === 1" class="status-hover-li">
                  <div class="status-value">Активне</div> - оголошення опубліковане.
                </li>
              </ul>
            </div>
          </div>
        </div>

        <div class="img-container">
          <div class="img-wrapper">
            <img class="img-fluid"
              [src]="flatImg && flatImg[currentPhotoIndex].img ? serverPathPhotoFlat + flatImg[currentPhotoIndex].img : serverPathPhotoFlat + 'housing_default.svg'"
              alt="Flat Image" alt="Flat Image">
          </div>
          <div *ngIf="flatImg?.length > 1">
            <button *ngIf="currentPhotoIndex !== 0" class="prev-img" (click)="prevPhoto()"><i
                class="fa-solid fa-chevron-left"></i></button>
            <button *ngIf="currentPhotoIndex !== flatImg?.length - 1" class="next-img" (click)="nextPhoto()"><i
                class="fa-solid fa-chevron-right"></i></button>
          </div>
          <div class="price">

            <div *ngIf="about.option_pay === 0" class="ml-2 price_m">{{
              about.price_m
              || '?' }}
              <span class="title-selected">ціна ₴/міс</span>
            </div>

            <div *ngIf="about.option_pay !== 0" class="ml-2 price_m">{{
              about.price_d
              || '?' }}
              <span class="title-selected">ціна ₴/добу</span>
            </div>
          </div>
        </div>

        <div class="btn-box">

          <div class="btn-group">
            <button class="btn" [ngClass]="{'active': indexCard === 2}" (click)="indexCard = 2"><i
                class="fa-solid fa-info"></i></button>
            <div class="btn-name">Інформація</div>
          </div>

          <div class="btn-group">
            <button class="btn" [ngClass]="{'active': indexCard === 1}" (click)="indexCard = 1"><i
                class="fa-solid fa-align-left"></i></button>
            <div class="btn-name">Параметри</div>
          </div>

          <div class="btn-group" [ngClass]="{ 'copied': isCopied }" (click)="copyFlatId()">
            <button class="btn">
              <span class="item" *ngIf="!isCopied">{{ house.flat_id }}</span>
              <span class="item" *ngIf="isCopied"><i class="fa-solid fa-copy"></i></span>
            </button>
            <div class="btn-name" *ngIf="!isCopied">ID оселі</div>
            <div class="btn-name" *ngIf="isCopied">Скопійовано</div>
          </div>
        </div>


        <div class="card-text p-1">

          <div class="title-group">
            <div class="title-selected">Область : </div>
            <div class="title-selected-accent">{{ house.region }}</div>
          </div>

          <div class="title-group">
            <div class="title-selected">Місто : </div>
            <div class="title-selected-accent">{{ house.city }}</div>
          </div>

          <div class="title-group">
            <div class="title-selected">Вулиця : </div>
            <div class="title-selected-accent">{{ house.street }}</div>
          </div>

          <div class="title-group">
            <div class="title-selected">Будинок : </div>
            <div class="title-selected-accent">{{ house.houseNumber }}</div>
          </div>

          <div class="title-group">
            <div class="title-selected">Квартира : </div>
            <div class="title-selected-accent">{{ house.apartment }}</div>
          </div>
        </div>



      </div>
    </div>

    <div class="card-box col-lg-6 col-md-6 col-sm-12 col-12" *ngIf="houseData">
      <div [@cardAnimation] class="card card-animation p-2" *ngIf="indexCard === 1 && house.rent === 1">
        <app-parameters></app-parameters>
      </div>

      <div [@cardAnimation] class="card card-animation p-2" *ngIf="indexCard === 2 || house.rent === 0">
        <app-house-share></app-house-share>
      </div>
    </div>

  </div>

</ng-template>