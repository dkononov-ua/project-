<div class="container-card w-100">
  <div [@right4] class="status-container">
    <div class="status-box">
      <div class="status-value">Допомога</div>
    </div>
    <div class="status-hover">
      <div class="status-hover-label">Створення послуг</div>
      <div class="status-hover-text">
        <div class="status-hover-li mb-2">Тут ви можете створювати комунальні послуги що дозволить вводити показники
          лічильників,
          на базі цих даних ми будемо підраховувати статистику по витратам та споживанню. Також зберігати інформацію про
          компанії які надають вам послуги, для того щоб у всіх мешканців оселі були дані під рукою</div>
      </div>
    </div>
  </div>

  <div [@right1] class="card-1">
    <div class="img-wpapper">
      <img class="img" [src]="selectedImageUrl ? selectedImageUrl : defaultImageUrl" alt="...">
    </div>
  </div>

  <div [@left1] class="flex-column w-80 pl-1">

    <div class="copyMessage-box" *ngIf="isCopiedMessage">
      <div class="copyMessage-text">{{isCopiedMessage}}</div>
      <i class="fa-regular fa-copy"></i>
      <div class="t-lar dark bold">Discussio</div>
    </div>

    <app-select-comun></app-select-comun>
    <div class="mt-2"> <app-comun-add></app-comun-add> </div>

    <div class="flex-box mt-3">
      <mat-form-field class="item-select w-90" appearance="outline">
        <mat-label>Назва компанії</mat-label>
        <input name="comunal_company" matInput [(ngModel)]="comunInfo.comunal_company">
      </mat-form-field>
      <button class="btn-copy" (click)="copyCompany()"><i class="fa-regular fa-clone"></i> </button>
    </div>

    <div class="flex-box mt-3">
      <mat-form-field class="item-select w-90" appearance="outline">
        <mat-label>Особистий рахунок</mat-label>
        <input name="personalAccount" matInput [(ngModel)]="comunInfo.personalAccount">
        <mat-hint align="end" class="t-min gray">Особистий рахунок оселі</mat-hint>
      </mat-form-field>
      <button class="btn-copy" (click)="copyAccount()"><i class="fa-regular fa-clone"></i> </button>
    </div>

    <div class="flex-box mt-3">
      <mat-form-field class="item-select w-90" appearance="outline">
        <mat-label>ЄДРПОУ</mat-label>
        <input name="edrpo" matInput [(ngModel)]="comunInfo.edrpo" [maxlength]="8" pattern="^[0-9]{8}$">
        <mat-error>ЄДРПОУ повинен містити 8 цифр.</mat-error>
        <mat-hint align="end" class="t-min gray">Код ЄДРПОУ 8 символів</mat-hint>
      </mat-form-field>
      <button class="btn-copy" (click)="copyEdrpo()"><i class="fa-regular fa-clone"></i> </button>
    </div>

    <div class="flex-box mt-3">
      <mat-form-field class="item-select w-90" appearance="outline">
        <mat-label>Оплата/сайт</mat-label>
        <input name="comunal_site" matInput [(ngModel)]="comunInfo.comunal_site">
        <mat-hint align="end" class="t-min gray">Посилання на чатбот або сайт</mat-hint>
      </mat-form-field>
      <button class="btn-copy" (click)="copySite()"><i class="fa-regular fa-clone"></i> </button>
    </div>

    <div class="flex-box mt-3">
      <mat-form-field class="item-select w-90" appearance="outline">
        <mat-label>IBAN</mat-label>
        <input name="iban" matInput [(ngModel)]="comunInfo.iban" [maxlength]="29" pattern="^[A-Za-z0-9]{29}$">
        <mat-error>29 символів.</mat-error>
        <mat-hint align="end" class="t-min gray">IBAN 29 символів</mat-hint>
      </mat-form-field>
      <button class="btn-copy" (click)="copyIban()"><i class="fa-regular fa-clone"></i> </button>
    </div>

    <div class="flex-box mt-3">
      <mat-form-field class="item-select w-90" appearance="outline">
        <mat-label>Телефон</mat-label>
        <input type="tel" name="comunal_phone" matInput [(ngModel)]="comunInfo.comunal_phone" [maxlength]="10"
          pattern="^[0-9]{10}$">
        <mat-error>Телефон повинен містити 10 цифр.</mat-error>
        <mat-hint align="end" class="t-min gray">Для передачі показників</mat-hint>
      </mat-form-field>
      <button class="btn-copy" (click)="copyPhone()"><i class="fa-regular fa-clone"></i> </button>
    </div>

    <div class="flex-box mt-3">
      <mat-form-field class="item-select w-90" appearance="outline">
        <mat-label>Адреса</mat-label>
        <input name="comunal_address" matInput [(ngModel)]="comunInfo.comunal_address">
        <mat-hint align="end" class="t-min gray">Адреса компанії</mat-hint>
      </mat-form-field>
      <button class="btn-copy" (click)="copyAddress()"><i class="fa-regular fa-clone"></i> </button>
    </div>

    <div class="form-floating p-1">
      <textarea #textArea class="form-control scrollable-textarea" id="floatingTextarea"
        [(ngModel)]="comunInfo.about_comun" name="about_comun" (input)="onInput()"
        placeholder="Enter description here"></textarea>
      <label for="floatingTextarea">
        <p class="t-med">Додаткова інформація:</p>
      </label>
    </div>
  </div>

  <div [@left2] class="btn-group w-100">
    <button class="btn flex-box" (click)="clearInfo()">
      <i class="icon fa-solid fa-eraser"></i>
      <div class="pl-2 t-min">Очистити</div>
    </button>

    <button class="btn flex-box" (click)="saveInfo()">
      <i class="icon fa-regular fa-circle-check"></i>
      <div class="pl-2 t-min">Зберегти</div>
    </button>
  </div>
</div>

<div *ngIf="statusMessage" class="status-message">
  <div class="status-message-text">{{ statusMessage }}</div>
  <img class="status-message-logo" src="{{path_logo}}" alt="logo">
  <div class="status-message-name">Discussio</div>
</div>
