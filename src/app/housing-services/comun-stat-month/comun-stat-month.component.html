<div [@top1] class="card-wrapper w-100">
  <div class="card-content-static w-100 p-2">
    <div class="monthChange w-100 mb-2 mt-2" *ngIf="currentIndex !== undefined || currentIndex !== null">
      <button class="btn-2 center" (click)="prevMonth()">
        <i class="fa-solid fa-chevron-left"></i>
      </button>
      <div class="bold accent t-lar-xx" *ngIf="selectedMonth">{{ selectedMonth }} {{ (selectedYear.toString()).slice(-2)
        }}</div>
      <button class="btn-2 center" (click)="nextMonth()">
        <i class="fa-solid fa-chevron-right"></i>
      </button>
      <app-select-month hidden></app-select-month>
    </div>
    <div class="table-container" *ngIf="!noInformationMessage">
      <div [@left1] class="wrapper">
        <table class="table-box">
          <thead class="table-head mb-2">
            <tr class="table-row">
              <th>
                <div class="table-cell name wi-30">№</div>
              </th>
              <th>
                <div class="table-cell name wi-150">Назва послуги</div>
              </th>
              <th>
                <div class="table-cell name wi-100">Спожито</div>
              </th>
              <th>
                <div class="table-cell name wi-80">Тариф ₴</div>
              </th>
              <th>
                <div class="table-cell name wi-100">Нараховано ₴</div>
              </th>
              <th>
                <div class="table-cell name wi-100">Сплатив ₴</div>
              </th>
              <th>
                <div class="table-cell name wi-100">Різниця ₴</div>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr class="table-row" *ngFor="let utility of flatInfo">
              <td>
                <div class="table-cell name-1 wi-30">
                  {{ utility.id }}
                </div>
              </td>
              <td>
                <div class="table-cell name-1 wi-150">
                  {{ utility.name }}
                </div>
              </td>
              <td>
                <div class="table-cell name-2 wi-100">
                  {{ utility.consumed | number: '1.1-1' }}
                </div>
              </td>
              <td>
                <div class="table-cell name-2 wi-80">
                  {{ utility.tariff | number: '1.1-1' }}
                </div>
              </td>
              <td>
                <div class="table-cell name-2 wi-100">
                  {{ utility.needPay | number: '1.1-1' }}
                </div>
              </td>
              <td>
                <div class="table-cell name-2 wi-100">
                  {{ utility.paid | number: '1.1-1' }}
                </div>
              </td>
              <td>
                <div class="table-cell name-2 wi-100">
                  {{ utility.difference | number: '1.1-1' }}
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="flex-column">
        <div [@left3] class="flex-box border-bottom">
          <div class="t-min">Загалом нараховано</div>
          <div class="t-lar-xx bold ml-2">{{ totalNeedPay }}<span class="t-med bold"> ₴</span></div>
        </div>
        <div [@left4] class="flex-box border-bottom">
          <div class="t-min">Загалом сплачено</div>
          <div class="t-lar-xx bold ml-2">{{ totalPaid }}<span class="t-med bold"> ₴</span></div>
        </div>
        <div [@left5] class="border-bottom">
          <div class="flex-box" *ngIf="overpaymentText === 'Борг'">
            <div class="t-min accent">{{overpaymentText}}</div>
            <div class="t-lar-xx bold ml-2 accent">{{ difference }}<span class="t-med bold"> ₴</span></div>
          </div>
          <div class="flex-box" *ngIf="overpaymentText === 'Переплата'">
            <div class="t-min">{{overpaymentText}}</div>
            <div class="t-lar-xx bold ml-2">{{ difference }}<span class="t-med bold"> ₴</span></div>
          </div>
        </div>
      </div>

    </div>
    <div [@left3] class="table-container" *ngIf="noInformationMessage">
      <h4 class="p-2 mt-3">Статистики за цей час немає...</h4>
    </div>
  </div>
</div>
