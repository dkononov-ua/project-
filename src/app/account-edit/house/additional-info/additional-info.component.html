<ng-container *ngIf="loading; else content">
  <app-loader></app-loader>
</ng-container>

<ng-template #content>
  <div [@left1] class="content-child">
    <div class="card-wrapper">
      <div class="card-content-static p-2 w-100">

        <div class="param-box">
          <div class="t-med t-c dark bold">Те що треба під рукою
            <p class="t-min ">додаткова інформація про оселю та її налаштування</p>
          </div>
        </div>
        <div class="box" *ngIf="selectedFlatId">
          <mat-label class="t-min gray t-c">Додайте ім'я та контакти представника будинку для того щоб можна було
            вирішити
            питання які виникнуть стосовно будинку</mat-label>
          <mat-label class="group-label mt-2">Управління будинком/ОСББ</mat-label>

          <div class="inputbox-group">
            <mat-form-field class="item-select w-50 p-1" appearance="outline">
              <mat-label>Телефон</mat-label>
              <input type="tel" name="osbb_phone" matInput [(ngModel)]="flatInfo.osbb_phone" [maxlength]="10"
                [pattern]="phonePattern">
            </mat-form-field>

            <mat-form-field class="item-select w-50 p-1" appearance="outline">
              <mat-label>Ім'я</mat-label>
              <input name="osbb_name" matInput [(ngModel)]="flatInfo.osbb_name">
            </mat-form-field>
          </div>

          <mat-label class="group-label">Налаштування оселі</mat-label>
          <mat-form-field class="item-select m-1" appearance="outline">
            <mat-label>Пароль WiFi</mat-label>
            <input placeholder="Введіть пароль від WiFi" name="wifi" matInput [(ngModel)]="flatInfo.wifi">
          </mat-form-field>

          <mat-label class="group-label">Картка власника для оплати</mat-label>
          <mat-form-field class="item-select m-1" appearance="outline">
            <mat-label>Картка для оплати</mat-label>
            <input ngxMask="'0000 0000 0000 0000'" placeholder="0000 0000 0000 0000" [maxLength]="19" name="pay_card"
              matInput [(ngModel)]="flatInfo.pay_card" (input)="formatCreditCard($event)">
          </mat-form-field>

        </div>
        <div class="param-box m-2">
          <div class="t-med t-c dark bold">Додаткова інформація
            <p class="t-min gray">вкажіть ваші застереження, інструкції абощо для ваших орендарів</p>
          </div>
        </div>
        <div class="form-floating p-1">
          <textarea #textArea class="form-control scrollable-textarea" id="floatingTextarea"
            [(ngModel)]="flatInfo.info_about" name="info_about" (input)="onInput()"></textarea>
          <label for="floatingTextarea">
            <p>Додаткова інформація про оселю:</p>
          </label>
        </div>
        <div class="btn-group">
          <button class="btn flex-box" (click)="clearInfo()">ОЧИСТИТИ<i
              class="icon fa-solid fa-eraser ml-2"></i></button>
          <button class="btn flex-box" (click)="saveInfo()">ЗБЕРЕГТИ<i
              class="icon fa-regular fa-circle-check ml-2"></i></button>
        </div>
      </div>
    </div>
  </div>
</ng-template>
