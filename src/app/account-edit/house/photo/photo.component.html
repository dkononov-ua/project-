<ng-container *ngIf="loading; else content">
  <app-loader></app-loader>
</ng-container>

<ng-template #content>
  <div class="container-card">

    <div [@cardAnimation1] class="card-box-photo p-2 col-lg-6 col-md-5 col-sm-6 col-12">
      <div class="mb-2" *ngIf="flatImg?.length > 0">
        
        <div class="img-container shadow">
          <div class="img-wrapper">
            <img class="img-fluid"
              [src]="flatImg && flatImg[currentPhotoIndex].img ? serverPathPhotoFlat + flatImg[currentPhotoIndex].img : serverPathPhotoFlat + 'housing_default.svg'"
              alt="Flat Image" alt="Flat Image">
          </div>
          <div *ngIf="flatImg?.length > 1">
            <button *ngIf="currentPhotoIndex !== 0" class="prev-img" (click)="prevPhoto()"><i
                class="fa-solid fa-chevron-left"></i></button>
            <button *ngIf="currentPhotoIndex !== flatImg?.length - 1" class="next-img" (click)="nextPhoto()"><i
                class="fa-solid fa-chevron-right"></i></button>
          </div>
        </div>
      </div>

      <div class="card-1 mb-2">
        <label class="label-1">Видалити фото оселі</label>
        <button class="input-div" (click)="deleteObject(flatImg[currentPhotoIndex].img)" matTooltip="Видалити">
          <i class="fa-solid fa-trash icon-up fa-solid fa-cloud-arrow-up"></i>
        </button>
      </div>

      <div class="card-1">
        <label class="label-1">Завантажити фото оселі</label>
        <div class="input-div">
          <i class="icon-up fa-solid fa-cloud-arrow-up" for="upload"></i>
          <input class="input-up" name="file" type="file" id="upload" (change)="onFileSelected($event)">
        </div>
      </div>

    </div>

    <div [@cardAnimation2] class="card-box col-lg-6 col-md-12 col-sm-12 col-12">
      <div class="card m-2">
        <mat-label>Які фото можна завантажувати</mat-label>
        <div class="card-body-cast">
          <ul>
            <li>Формат фото: img, jpg, png, jpeg, webp.</li>
            <li>Максимальний розмір фото до 5 мб.</li>
            <li>Максимальна кількість фото 8 шт.</li>
            <li>Перше завантажене фото буде головним фото вашої оселі. Після видалення першого фото головним стане наступне.</li>
            <li>Фото видаляються разом з видаленням оселі.</li>
            <li>Фото можна додавати по одному за раз.</li>
          </ul>
          <p class="text-info">*Така кількість обмежень буде діяти на період запуску для можливості скоротити
            використання пам'яті на сервері.
          </p>

        </div>

      </div>
    </div>

  </div>
</ng-template>
