<div [@cardAnimation] class="container-card">
  <div class="card-box col-lg-6 col-md-5 col-sm-6 col-12">
    <form class="card m-2" [formGroup]="addressHouse">
      <!-- Реєстрація -->
      <div class="card-name">
        <h4>Адреса оселі</h4>
      </div>
      <!-- Країна -->
      <!-- <div class="inputbox">
        <input required="required" type="text" id="inputCountry" name="country" formControlName="country">
        <span>Країна</span>
        <i class="orange"></i>
        <div *ngIf="formErrors.country" class="alert alert-danger">{{formErrors.country}}</div>
      </div> -->

      <!-- Область -->
      <div class="inputbox">
        <input required="required" type="text" id="inputRegion" name="region" formControlName="region"
          [(ngModel)]="selectedRegion" (ngModelChange)="loadCities()" [matAutocomplete]="autoRegion" />
        <span>Область</span>
        <i class="orange"></i>
        <div *ngIf="
      addressHouse.controls['region'].invalid &&
      (addressHouse.controls['region'].dirty ||
        addressHouse.controls['region'].touched)
    " class="alert alert-danger">
          {{ formErrors.region }}
        </div>
      </div>
      <mat-autocomplete #autoRegion="matAutocomplete">
        <mat-option *ngFor="let region of filteredRegions" [value]="region.name">
          {{ region.name }}
        </mat-option>
      </mat-autocomplete>

      <!-- Місто -->
      <div class="inputbox">
        <input required="required" type="text" id="inputCity" name="city" formControlName="city"
          [(ngModel)]="selectedCity" (ngModelChange)="loadDistricts()" [matAutocomplete]="autoCity" />
        <span>Місто</span>
        <i class="orange"></i>
        <div *ngIf="formErrors.city" class="alert alert-danger">{{ formErrors.city }}</div>
      </div>
      <mat-autocomplete #autoCity="matAutocomplete">
        <mat-option *ngFor="let city of filteredCities" [value]="city.name">
          {{ city.name }}
        </mat-option>
      </mat-autocomplete>

      <!-- Вулиця -->
      <div class="inputbox">
        <input required="required" type="text" id="inputStreet" name="street" formControlName="street">
        <span>Вулиця</span>
        <i class="orange"></i>
        <div *ngIf="formErrors.street" class="alert alert-danger">{{formErrors.street}}</div>
      </div>
      <!-- Індекс -->
      <div class="inputbox">
        <input required="required" type="text" id="flat_index" name="flat_index" formControlName="flat_index">
        <span>Індекс</span>
        <i class="orange"></i>
        <div *ngIf="formErrors.flat_index" class="alert alert-danger">{{formErrors.flat_index}}</div>
      </div>
      <!-- Номер -->
      <div class="inputbox">
        <input required="required" type="text" id="houseNumber" name="houseNumber" formControlName="houseNumber">
        <span>Номер будинку</span>
        <i class="orange"></i>
        <div *ngIf="formErrors.houseNumber" class="alert alert-danger">{{formErrors.houseNumber}}</div>
      </div>
      <!-- Квартира -->
      <div class="inputbox-group">
        <div class="inputbox">
          <input required="required" type="number" id="apartment" name="apartment" formControlName="apartment">
          <span>Номер квартири</span>
          <i class="orange"></i>
          <div *ngIf="formErrors.apartment" class="alert alert-danger">{{formErrors.apartment}}</div>
        </div>
        <div class="inputbox" *ngIf="location && addressHouse.valid">
          <a class="location" href="{{ location }}" target="_blank">
            <i class="fa-solid fa-map-location"></i>
          </a>
        </div>
      </div>

      <div class="container-checkbox">
        <div class="content">
          <label class="checkBox">
            <input id="rent" type="checkbox" formControlName="rent" value="rent">
            <div class="transition"></div>
          </label>
          <span class="checkBox-span">Здаю</span>
          <i></i>
        </div>
        <div class="content">
          <label class="checkBox">
            <input id="private" type="checkbox" formControlName="private" value="private">
            <div class="transition"></div>
          </label>
          <span class="checkBox-span">Приватно</span>
          <i></i>
        </div>
      </div>
      <!-- Кнопки -->
      <div class="btn-group">
        <button class="btn btn-primary mt-3" (click)="saveAddressHouse()" (click)="onSubmitSaveAddressHouse()"
          (click)="saveAddressHouse()">ЗБЕРЕГТИ</button>
        <button class="btn btn-primary mt-3" (click)="editAddressHouse()">РЕДАГУВАТИ</button>
        <button type="reset" class="btn btn-secondary mt-3 ml-3" (click)="resetAddressHouse()">СКИНУТИ</button>
      </div>

    </form>
  </div>

  <div class="card-box col-lg-6 col-md-5 col-sm-6 col-12">
    <div class="card m-2">
      <!-- Статус -->
      <div class="card-info">
        <p>Що таке статус оселі</p>

        <button class="btn-info col-2 m-3 info" type="button" data-bs-toggle="collapse" data-bs-target="#aboutStatus"
          aria-expanded="false" aria-controls="collapseExample"><i class="fa-solid fa-info"></i></button>
        <div class="collapse" id="aboutStatus">
          <div class="card card-body-cast">
            <p class="text-info">
              Статус оселі потрібно для правильного відображення інформації орендаторів та орендодавців.
            </p>
          </div>
        </div>
      </div>
      <!-- ID Оселі -->
      <div class="card-info">
        <p>Що таке ID Оселі?</p>
        <button class="btn-info col-2 m-3 info" type="button" data-bs-toggle="collapse" data-bs-target="#aboutHousesID"
          aria-expanded="false" aria-controls="collapseExample">
          <i class="fa-solid fa-info"></i>
        </button>
        <div class="collapse" id="aboutHousesID">
          <div class="card card-body-cast">
            <p class="text-info">ID Оселі унікальний ідентифікаційний код для прив'язки оселі до аккаунту користувача. З
              ID Оселі ви можете створювати декілька профілів оселі для різних потреб. Приклад
              заповнення "UserHouse1".
            </p>
          </div>
        </div>
      </div>
      <!-- Здаю? -->
      <div class="card-info">
        <p>Що таке Здаю?</p>
        <button class="btn-info col-2 m-3 info" type="button" data-bs-toggle="collapse" data-bs-target="#aboutRent"
          aria-expanded="false" aria-controls="collapseExample">
          <i class="fa-solid fa-info"></i>
        </button>
        <div class="collapse" id="aboutRent">
          <div class="card card-body-cast">
            <p class="text-info">Якщо ви оберете опцію "Здаю", ваша оселя буде відображатись у пошуку та вам
              будуть надходити пропозиції щодо оренди вашої оселі.
            </p>
          </div>
        </div>
      </div>
      <!-- Приватно -->
      <div class="card-info">
        <p>Що таке Приватно?</p>
        <button class="btn-info col-2 m-3 info" type="button" data-bs-toggle="collapse" data-bs-target="#aboutPrivat"
          aria-expanded="false" aria-controls="collapseExample">
          <i class="fa-solid fa-info"></i>
        </button>
        <div class="collapse" id="aboutPrivat">
          <div class="card card-body-cast">
            <p class="text-info">Якщо ви оберете опцію "Приватно", ваша оселя не буде відображатись у пошуку, та ніхто
              окрім Вас не буде мати доступ до оселі.
            </p>
          </div>
        </div>
      </div>


    </div>
  </div>
</div>
