<div class="container-fluid">

  <div class="container-navbar">
    <nav class="navbar">
      <a [routerLinkActive]="'active'" [routerLink]="'/user'"><i class="fa-solid fa-chevron-left"></i></a>
      <a [routerLinkActive]="'active'" [routerLink]="'/information-user'">Профіль корустувача</a>
      <a [routerLinkActive]="'active'" [routerLink]="'/housing-parameters/host/address'">Профіль оселі</a>
      <a [routerLinkActive]="'active'" [routerLink]="'/looking'">Пошук оселі</a>
    </nav>
  </div>

  <div class="container-card">

    <div class="card-box-photo col-lg-4 col-md-5 col-sm-6 col-12">
      <div class="m-2">
        <div class="img-fluid">
          <img [src]="'http://localhost:3000/img/users/' + (userImg ? userImg : 'user_default.svg')">
        </div>

        <div class="card">

          <mat-label class="label-1">Персональні дані</mat-label>
          <mat-form-field class="item-select m-1" appearance="outline">
            <mat-label>Ім'я</mat-label>
            <input name="userInfo.firstName" matInput [disabled]="disabledUser" [(ngModel)]="userInfo.firstName">
          </mat-form-field>

          <mat-form-field class="item-select m-1" appearance="outline">
            <mat-label>Прізвище</mat-label>
            <input name="userInfo.lastName" matInput [disabled]="disabledUser" [(ngModel)]="userInfo.lastName">
          </mat-form-field>

          <mat-form-field class="item-select m-1" appearance="outline">
            <mat-label>По батькові</mat-label>
            <input name="userInfo.surName" matInput [disabled]="disabledUser" [(ngModel)]="userInfo.surName">
          </mat-form-field>

          <mat-form-field>
            <mat-label>Дата народження</mat-label>
            <input matInput [matDatepicker]="picker" [disabled]="disabledUser" [(ngModel)]="userInfo.dob">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>

          <div class="btn-group">
            <button class="btn" matTooltip="ЗБЕРЕГТИ" (click)="saveInfoUser()"><i
                class="icon fa-regular fa-circle-check"></i></button>
            <button class="btn" matTooltip="РЕДАГУВАТИ" (click)="editInfoUser()"><i
                class="icon fa-solid fa-pen"></i></button>
            <button class="btn" matTooltip="ОЧИСТИТИ" (click)="clearInfoUser()"><i
                class="icon fa-solid fa-eraser"></i></button>
          </div>

        </div>

      </div>
    </div>

    <div class="card-box col-lg-4 col-md-5 col-sm-6 col-12" [@cardAnimation2]>

      <div class="m-2">
        <div class="card mb-2">
          <mat-label class="label-1">Завантажити фото профіля</mat-label>
          <div class="photo-box">
            <div class="item-select">
              <input type="file" class="item-select" (change)="onFileSelected($event)" id="upload"
                aria-describedby="upload" aria-label="Upload">
            </div>
            <button matTooltip="Завантажити нове фото" class="btn-create m-2" id="upload" (click)="onUpload()"
              type="button"><i class="fa-solid fa-circle-check"></i></button>
          </div>
        </div>

        <div class="card mb-2">
          <mat-label class="label-1">Управління аккаунтом</mat-label>
          <mat-form-field class="item-select m-1" appearance="outline">
            <mat-label>Змінити пошту</mat-label>
            <input name="change_password" matInput>
          </mat-form-field>
          <button class="btn btn-primary"><span class="btn-text">ЗМІНИТИ ПОШТУ</span></button>

          <mat-label>Змінити пароль</mat-label>
          <mat-form-field class="item-select m-1" appearance="outline">
            <mat-label>Змінити пароль</mat-label>
            <input name="change_password" matInput>
          </mat-form-field>
          <button class="btn btn-primary"><span class="btn-text">ЗМІНИТИ ПАРОЛЬ</span></button>

          <button class="btn btn-primary"><span class="btn-text">ВИДАЛИТИ АККАУНТ</span></button>
        </div>
        <div class="card">
          <button class="btn btn-exit"><span class="btn-text" (click)="logout()">ВИЙТИ З АККАУНТУ</span></button>
        </div>
      </div>

    </div>

    <div class="card-box col-lg-4 col-md-5 col-sm-6 col-12" [@cardAnimation2]>
      <div class="card m-2">

        <mat-label class="label-1">Контактні дані</mat-label>
        <mat-form-field class="item-select m-1" appearance="outline">
          <mat-label>Телефон</mat-label>
          <input type="tel" name="userCont.tell" matInput [disabled]="disabled" [(ngModel)]="userCont.tell">
        </mat-form-field>

        <mat-form-field class="item-select m-1" appearance="outline">
          <mat-label>Телефон додатковий</mat-label>
          <input type="tel" name="userCont.phone_alt" matInput [disabled]="disabled" [(ngModel)]="userCont.phone_alt">
        </mat-form-field>

        <mat-form-field class="item-select m-1" appearance="outline">
          <mat-label>Telegram<i class="fa-brands fa-telegram"></i></mat-label>
          <input name="userCont.telegram" matInput [disabled]="disabled" [(ngModel)]="userCont.telegram">
        </mat-form-field>

        <mat-form-field class="item-select m-1" appearance="outline">
          <mat-label>Facebook<i class="fa-brands fa-facebook"></i></mat-label>
          <input name="userCont.facebook" matInput [disabled]="disabled" [(ngModel)]="userCont.facebook">
        </mat-form-field>

        <mat-form-field class="item-select m-1" appearance="outline">
          <mat-label>Instagram<i class="fa-brands fa-instagram"></i></mat-label>
          <input name="userCont.instagram" matInput [disabled]="disabled" [(ngModel)]="userCont.instagram">
        </mat-form-field>

        <mat-form-field class="item-select m-1" appearance="outline">
          <mat-label>Viber<i class="fa-brands fa-viber"></i></mat-label>
          <input name="userCont.viber" matInput [disabled]="disabled" [(ngModel)]="userCont.viber">
        </mat-form-field>

        <mat-form-field class="item-select m-1" appearance="outline">
          <mat-label>Mail</mat-label>
          <input name="userCont.mail" matInput [disabled]="disabled" [(ngModel)]="userCont.mail">
        </mat-form-field>

        <div class="btn-group">
          <button class="btn" matTooltip="ЗБЕРЕГТИ" (click)="saveInfoCont()"><i
              class="icon fa-regular fa-circle-check"></i></button>
          <button class="btn" matTooltip="РЕДАГУВАТИ" (click)="editInfoCont()"><i
              class="icon fa-solid fa-pen"></i></button>
          <button class="btn" matTooltip="ОЧИСТИТИ" (click)="clearInfoCont()"><i
              class="icon fa-solid fa-eraser"></i></button>
        </div>

      </div>
    </div>



  </div>
</div>

<div *ngIf="loading" class="loader-overlay">
  <div class="loader"></div>
</div>
