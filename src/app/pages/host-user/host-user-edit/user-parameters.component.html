<div class="switch-container" *ngIf="isMobile">

  <div class="switch-btn-group">
    <button class="btn" (click)="toogleFilter('Person')">
      <i class="fa-regular fa-address-card"></i>
      <div class="t-min">Профіль</div>
    </button>
  </div>

  <div class="switch-btn-group">
    <button class="btn" (click)="toogleFilter('Contacts')">
      <i class="fa-solid fa-share-nodes"></i>
      <div class="t-min">Контакти</div>
    </button>
  </div>

  <div class="switch-btn-group">
    <button class="btn" (click)="toogleFilter('Status')">
      <i class="fa-solid fa-sliders"></i>
      <div class="t-min">Доступи</div>
    </button>
  </div>

  <div class="switch-btn-group">
    <button class="btn" (click)="toogleFilter('Delete')">
      <i class="fa-solid fa-user-xmark pl-2"></i>
      <div class="t-min">Видалення</div>
    </button>
  </div>
</div>

<ng-container *ngIf="!awaitStatusBtn; else content">
  <div class="t-c content container-loader-mini">
    <mat-spinner color="warn"></mat-spinner>
    <div class="t-med mt-2">Оновлення інформації</div>
  </div>
</ng-container>

<ng-template #content>
  <div class="t-c content" *ngIf="!collapsePerson && !collapseContacts && !collapseStatus && !collapseDelete">
    <div class="t-c" [ngClass]="{'close': collapseParamStatus}">

      <p class="t-lar-x bold p-2">Керування профілем</p>

      <div class="profile-completion-container p-2">

        <div [@top1] class="circle-container">
          <div class="d-flex jc-sa al-c">

            <div class="spinner-wrapper" [ngClass]="getSpinnerClass(totalFilling)">
              <mat-progress-spinner class="custom-spinner" [value]="totalFilling" mode="determinate" diameter="140"
                strokeWidth="12">
              </mat-progress-spinner>
              <div class="spinner-text"><i class="fa-regular fa-circle-user"></i> <br> {{ totalFilling }}%</div>
            </div>

            <div class="w-50 pr-2">
              <h3>Заповнення профілю</h3>
              <p class="t-min">
                Статус заповнення профілю є критично важливим для підтвердження вашого аккаунту. Якщо відсоток
                заповнення
                профілю нижче 70%, ваш аккаунт не зможе отримати статус перевіреного. Заповнений профіль не тільки
                підвищує вашу надійність, але й відкриває доступ до додаткових можливостей на платформі.
              </p>
            </div>

          </div>
        </div>

        <button [@top2] class="circle-container circle-container--btn" (click)="toogleFilter('Contacts')">
          <div class="d-flex jc-sa al-c">
            <div class="w-50 pr-2">
              <h3>Контакти</h3>
              <p class="t-min">
                Контактна інформація, зокрема ваші соціальні мережі важливі для швидкого зв'язку з вами. Вони дозволяють
                потенційним орендарям і орендодавцям ознайомитися з вашою особистістю, що допомагає створити довіру та
                встановити позитивні відносини.
              </p>
            </div>


            <div class="spinner-wrapper" [ngClass]="getSpinnerClass(totalFillingCont)">
              <mat-progress-spinner class="custom-spinner" [value]="totalFillingCont" mode="determinate" diameter="120"
                strokeWidth="10">
              </mat-progress-spinner>
              <div class="spinner-text"> <i class="fa-solid fa-share-nodes"></i>
                {{ totalFillingCont }}%</div>
            </div>
          </div>
        </button>

        <button [@top3] class="circle-container  circle-container--btn" (click)="toogleFilter('Person')">
          <div class="d-flex jc-sa al-c">

            <div class="w-50 pr-2">
              <h3>Персональна</h3>
              <p class="t-min"> З наданими даними, такими як ім'я, прізвище та фотографія, користувачі можуть легше вас
                впізнати,
                що сприяє встановленню тісних контактів. Ваша відкритість допомагає створити позитивний імідж
                та безпечну атмосферу на платформі.</p>
            </div>
            <div class="spinner-wrapper" [ngClass]="getSpinnerClass(totalFillingInf)">
              <mat-progress-spinner class="custom-spinner" [value]="totalFillingInf" mode="determinate" diameter="120"
                strokeWidth="10">
              </mat-progress-spinner>
              <div class="spinner-text"><i class="fa-regular fa-address-card"></i>{{ totalFillingInf }}%</div>
            </div>
          </div>
        </button>

        <div [@top4] class="circle-group ">
          <button class="circle-container gap-custom  circle-container--btn" (click)="toogleFilter('Status')">
            <div class="d-flex jc-sa al-c">

              <div class="w-50 pr-2">
                <h3>Статуси</h3>
                <p class="t-min">Тут ви можете відслідковувати статуси вашого аккаунту та надавати дозволи.</p>
              </div>
              <div class="spinner-wrapper" [ngClass]="getSpinnerClass(0)">
                <mat-progress-spinner class="custom-spinner" [value]="100" mode="determinate" diameter="80"
                  strokeWidth="5">
                </mat-progress-spinner>
                <div class="spinner-text">
                  <i class="fa-solid fa-user-check"></i>
                </div>
              </div>

            </div>
          </button>

          <button class="circle-container  circle-container--btn" (click)="toogleFilter('Delete')">
            <div class="d-flex jc-sa al-c">
              <div class="w-50 pr-2">
                <h3>Видалення</h3>
                <p class="t-min">Тут ви можете видалити свій аккаунт.</p>
              </div>
              <div class="spinner-wrapper" [ngClass]="'spinner-red'">
                <mat-progress-spinner class="custom-spinner" [value]="100" mode="determinate" diameter="80"
                  strokeWidth="5">
                </mat-progress-spinner>
                <div class="spinner-text">
                  <i class="fa-solid fa-user-xmark pl-2"></i>
                </div>
              </div>
            </div>
          </button>
        </div>

      </div>

    </div>
  </div>
</ng-template>

<div [@top3] class="t-c filter-wrapper" *ngIf="collapsePerson">
  <div class="t-c filter-window p-2" [ngClass]="{'close': collapsePersonStatus}">
    <app-user-person></app-user-person>
  </div>
</div>
<div [@top3] class="t-c filter-wrapper" *ngIf="collapseContacts">
  <div class="t-c filter-window p-2" [ngClass]="{'close': collapseContactsStatus}">
    <app-user-contacts></app-user-contacts>
  </div>
</div>
<div [@top3] class="t-c filter-wrapper" *ngIf="collapseStatus">
  <div class="t-c filter-window p-2" [ngClass]="{'close': collapseStatusStatus}">
    <app-user-status></app-user-status>
  </div>
</div>
<div [@top3] class="t-c filter-wrapper" *ngIf="collapseDelete">
  <div class="t-c filter-window p-2" [ngClass]="{'close': collapseDeleteStatus}">
    <app-user-delete></app-user-delete>
  </div>
</div>
