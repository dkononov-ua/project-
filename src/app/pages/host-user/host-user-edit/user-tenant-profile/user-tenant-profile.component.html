<div class="t-c switch-container" *ngIf="isMobile">

  <div class="switch-btn-group">
    <button [disabled]="!awaitStatusBtn" class="btn" (click)="toogleFilter('location')"
      [ngClass]="{ 'active': collapseLocation == true}">
      <i class="fa-solid fa-map-location-dot custom-badge" matBadge="{{activeFilterLocation}}"
        [matBadgeHidden]="activeFilterLocation === 0"></i>
      <div class="t-min bold">Локація</div>
    </button>
  </div>

  <div class="switch-btn-group">
    <button [disabled]="!awaitStatusBtn" class="btn" (click)="toogleFilter('time')"
      [ngClass]="{ 'active': collapseTime == true}">
      <i class="fa-regular fa-hourglass-half custom-badge" matBadge="{{activeFilterTime}}"
        [matBadgeHidden]="activeFilterTime === 0"></i>
      <div class="t-min bold">Терміни</div>
    </button>
  </div>

  <div class="switch-btn-group">
    <button [disabled]="!awaitStatusBtn" class="btn" (click)="toogleFilter('features')"
      [ngClass]="{ 'active': collapseFeatures == true}">
      <i class="fa-solid fa-user-tag custom-badge" matBadge="{{activeFilterFeatures}}"
        [matBadgeHidden]="activeFilterFeatures === 0"></i>
      <div class="t-min bold">Орендарь</div>
    </button>
  </div>

  <div class="switch-btn-group">
    <button [disabled]="!awaitStatusBtn" class="btn" (click)="toogleFilter('houseParam')"
      [ngClass]="{ 'active': collapseHouseParam == true}">
      <i class="fa-solid fa-house-circle-check custom-badge" matBadge="{{activeFilterHouseParam}}"
        [matBadgeHidden]="activeFilterHouseParam === 0"></i>
      <div class="t-min bold">Оселя</div>
    </button>
  </div>
</div>
<ng-container *ngIf="!awaitStatusBtn; else content">
  <div class="t-c content jc-c container-loader-mini">
    <mat-spinner color="warn"></mat-spinner>
    <div class="t-med mt-2">Оновлення інформації</div>
  </div>
</ng-container>
<ng-template #content >
  <div class="t-c content" *ngIf="!collapseTime && !collapseFeatures && !collapseHouseParam && !collapseLocation && authorization">
    <div class="t-c" [ngClass]="{'close': collapseParamStatus}">

      <div class="profile-completion-container p-2">

        <div [@top] class="circle-container">
          <div class="d-flex jc-sa al-c">

            <div class="spinner-wrapper" [ngClass]="getSpinnerClass(totalFilling)">
              <mat-progress-spinner class="custom-spinner" [value]="totalFilling" mode="determinate" diameter="140"
                strokeWidth="12">
              </mat-progress-spinner>
              <div class="spinner-text"><i class="fa-solid fa-person-hiking custom-badge"
                  matBadge="{{totalActiveFilters}}" [matBadgeHidden]="totalActiveFilters === 0"></i> <br> {{
                totalFilling
                }}%</div>
            </div>

            <div class="w-50 pr-2">
              <h3>Заповнення профілю орендаря</h3>
              <p class="t-min">
                Статус заповнення профілю є показником наскільки детально ви прописали пошукові запити. Чим їх більше
                тим легше буде орендодавцю або сусіду вирішити чи підійде вам його оселя.
              </p>
            </div>
          </div>
        </div>

        <button [@top1] class="circle-container circle-container--btn" (click)="toogleFilter('location')">
          <div class="d-flex jc-sa al-c">
            <div class="pr-2">
              <h3>Локація</h3>
              <p class="t-min">
                Локація є ключовим критерієм пошуку орендарів. Важливо детально описати конкретну локацію, щоб
                орендодавець міг запропонувати вам відповідний варіант. Без вказаної області та міста оголошення не буде
                активоване.
              </p>
            </div>

            <div class="spinner-wrapper" [ngClass]="getSpinnerLocationClass(totalLocation)">
              <mat-progress-spinner class="custom-spinner" [value]="totalLocation" mode="determinate" diameter="120"
                strokeWidth="10">
              </mat-progress-spinner>
              <div class="spinner-text"> <i class="fa-solid fa-map-location-dot custom-badge"
                  matBadge="{{activeFilterLocation}}" [matBadgeHidden]="activeFilterLocation === 0"></i>
                {{ totalLocation }}%</div>
            </div>
          </div>
          <div class="param-box" *ngIf="userInfo.region || userInfo.city">
            <div class="param-group">
              <div class="param-field" *ngIf="userInfo.region">
                Область:<span class="param-value"><i class="fa-solid fa-earth-americas"></i>{{ userInfo.region }}
                </span>
              </div>

              <div class="param-field" *ngIf="userInfo.city">
                Місто:<span class="param-value"><i class="fa-solid fa-city"></i>{{ userInfo.city }} </span>
              </div>

              <div class="param-field" *ngIf="userInfo.district">
                Район:<span class="param-value"><i class="fa-solid fa-mountain-city"></i>{{ userInfo.district }}</span>
              </div>

              <div class="param-field" *ngIf="userInfo.micro_district">
                Мікрорайон:<span class="param-value"><i class="fa-solid fa-building-flag"></i>{{ userInfo.micro_district
                  }}</span>
              </div>

              <div class="param-field" *ngIf="userInfo.street">
                Вулиця:<span class="param-value"><i class="fa-solid fa-road"></i>{{ userInfo.street }}</span>
              </div>

            </div>
          </div>
          <div class="param-box" *ngIf="userInfo.metrocolor || userInfo.metroname || userInfo.distance_metro">
            <div class="param-label">Метро:</div>
            <div class="param-group">
              <div class="param-field" *ngIf="userInfo.metrocolor">
                Лінія:<span class="param-value"><i class="fa-solid fa-code-branch"></i>{{ userInfo.metrocolor }}</span>
              </div>
              <div class="param-field" *ngIf="userInfo.metroname">
                Станція:<span class="param-value"><i class="fa-solid fa-archway"></i>{{ userInfo.metroname }}</span>
              </div>
              <div class="param-field" *ngIf="userInfo.distance_metro">
                Відстань до:<span class="param-value"><i class="fa-solid fa-arrows-left-right-to-line"></i>{{
                  aboutDistance[userInfo.distance_metro]
                  }}</span>
              </div>
            </div>
          </div>

        </button>

        <button [@top2] class="circle-container circle-container--btn" (click)="toogleFilter('features')">
          <div class="d-flex jc-sa al-c">
            <div class="pr-2">
              <h3>Орендарь</h3>
              <p class="t-min">
                Ціна та спосіб оплати в цьому розділі є обов'язковими параметрами, без яких оголошення не буде
                активовано. Ви також можете зазначити свої побажання та особливі критерії. Тип орендарів рекомендується
                вказувати той, до якого ви найбільше належите, але можна комбінувати варіанти
              </p>
            </div>
            <div class="spinner-wrapper" [ngClass]="getSpinnerClass(totalFeatures)">
              <mat-progress-spinner class="custom-spinner" [value]="totalFeatures" mode="determinate" diameter="120"
                strokeWidth="10">
              </mat-progress-spinner>
              <div class="spinner-text"> <i class="fa-solid fa-user-tag custom-badge"
                  matBadge="{{activeFilterFeatures}}" [matBadgeHidden]="activeFilterFeatures === 0"></i>
                {{ totalFeatures }}%</div>
            </div>
          </div>
          <div class="param-box" *ngIf="userInfo.option_pay !== undefined || userInfo.price_of || userInfo.price_to">
            <div class="param-label">Бюджет:</div>
            <div class="param-group">
              <div class="param-field" *ngIf="userInfo.price_of">
                Ціна від (грн):<span class="param-value"><i class="fa-solid fa-sack-dollar"></i>{{ userInfo.price_of |
                  number:'1.0-0' }}</span>
              </div>

              <div class="param-field" *ngIf="userInfo.price_to">
                Ціна до (грн):<span class="param-value"><i class="fa-solid fa-sack-dollar"></i>{{ userInfo.price_to |
                  number:'1.0-0' }}</span>
              </div>

              <div class="param-field" *ngIf="userInfo.option_pay !== undefined">
                Оплата:<span class="param-value"><i class="fa-regular fa-credit-card"></i>{{
                  option_pay[userInfo.option_pay]
                  }}</span>
              </div>

              <div class="param-field" *ngIf="userInfo.purpose_rent">
                Мета пошуку:<span class="param-value"><i class="fa-solid fa-head-side-virus"></i>{{
                  purpose[userInfo.purpose_rent]
                  }}</span>
              </div>

              <div class="param-field" *ngIf="userInfo.bunker">
                Наявність укриття:<span class="param-value"><i class="fa-solid fa-shield-heart"></i>{{ userInfo.bunker
                  }}</span>
              </div>

              <div class="param-field" *ngIf="userInfo.animals && userInfo.animals !== '0'">
                Тварини:
                <span class="param-value">
                  <i class="fa-solid fa-paw" *ngIf="userInfo.animals === '1'"></i>
                  <i class="fa-solid fa-cat" *ngIf="userInfo.animals === '2'"></i>
                  <i class="fa-solid fa-dog" *ngIf="userInfo.animals === '3'"></i>
                  {{ animals[userInfo.animals] }}
                </span>
              </div>

            </div>
          </div>

          <div class="param-box" *ngIf="userInfo.woman || userInfo.man || userInfo.students || userInfo.family">
            <div class="param-label">Шукаю оселю для:</div>
            <div class="param-group">

              <div class="param-field" *ngIf="userInfo.woman === 1">
                Жінки <span class="param-value"><i class="fa-solid fa-person-dress"></i></span>
              </div>

              <div class="param-field" *ngIf="userInfo.man === 1">
                Чоловіка <span class="param-value"><i class="fa-solid fa-person"></i></span>
              </div>

              <div class="param-field" *ngIf="userInfo.students === 1">
                Студента<span class="param-value"><i class="fa-solid fa-graduation-cap"></i> </span>
              </div>

              <div class="param-field" *ngIf="userInfo.family === 1">
                Сім'ї<span class="param-value"><i class="fa-solid fa-children"></i> </span>
              </div>

            </div>
          </div>
          <div class="p-2" *ngIf="userInfo.about">
            <div class="t-lar bold">Додаткова інформація:</div>
            <div class="t-min">{{ userInfo.about }}</div>
          </div>
        </button>

        <button [@top3] class="circle-container circle-container--btn" (click)="toogleFilter('time')">
          <div class="d-flex jc-sa al-c">
            <div class="pr-2">
              <h3>Терміни</h3>
              <p class="t-min">
                Встановлені терміни дозволяють орендодавцям зрозуміти, чи можуть вони здати оселю на потрібний вам
                період. Ці параметри не є обов'язковими, але можуть допомогти швидше знайти бажане житло. Різні способи
                введення додаються для вашої зручності, а підбір і пошук здійснюються за загальною кількістю днів.
              </p>
            </div>
            <div class="spinner-wrapper" [ngClass]="getSpinnerClass(totalTime)">
              <mat-progress-spinner class="custom-spinner" [value]="totalTime" mode="determinate" diameter="120"
                strokeWidth="10">
              </mat-progress-spinner>
              <div class="spinner-text"> <i class="fa-regular fa-hourglass-half custom-badge"
                  matBadge="{{activeFilterTime}}" [matBadgeHidden]="activeFilterTime === 0"></i>
                {{ totalTime }}%</div>
            </div>
          </div>
          <div class="param-box" *ngIf="userInfo.years || userInfo.mounths || userInfo.weeks || userInfo.days">
            <div class="param-group p-1">

              <div class="param-field" *ngIf="userInfo.years && userInfo.years !== null">Роки:<span
                  class="param-value"><i class="fa-solid fa-calendar"></i>{{ userInfo.years }}</span></div>

              <div class="param-field" *ngIf="userInfo.mounths && userInfo.mounths !== null">Місяці:
                <span class="param-value"><i class="fa-solid fa-calendar-days"></i>{{ userInfo.mounths }}</span>
              </div>

              <div class="param-field" *ngIf="userInfo.weeks && userInfo.weeks !== null">Тижні:<span
                  class="param-value"><i class="fa-regular fa-calendar-days"></i>{{ userInfo.weeks }}</span></div>

              <div class="param-field" *ngIf="userInfo.days && userInfo.days !== null">Дні:<span class="param-value"><i
                    class="fa-solid fa-hourglass-half"></i>{{
                  userInfo.days }}</span></div>

              <div class="param-field" *ngIf="userInfo.day_counts">Загалом днів:
                <span class="param-value"> <i class="fa-solid fa-hourglass-half"></i>{{ userInfo.day_counts }}</span>
              </div>


            </div>
          </div>
        </button>

        <button [@top4] class="circle-container circle-container--btn" (click)="toogleFilter('houseParam')">
          <div class="d-flex jc-sa al-c">
            <div class="pr-2">
              <h3>Оселя</h3>
              <p class="t-min">
                У параметрах оселі ви можете детально налаштувати всі характеристики бажаного житла: вибрати тип оселі,
                визначити можливість підселення, вказати необхідну інфраструктуру та інші важливі аспекти. Це допоможе
                швидше знайти житло, яке відповідатиме вашим потребам
              </p>
            </div>
            <div class="spinner-wrapper" [ngClass]="getSpinnerClass(totalHouseParam)">
              <mat-progress-spinner class="custom-spinner" [value]="totalHouseParam" mode="determinate" diameter="120"
                strokeWidth="10">
              </mat-progress-spinner>
              <div class="spinner-text"> <i class="fa-solid fa-house-circle-check custom-badge"
                  matBadge="{{activeFilterHouseParam}}" [matBadgeHidden]="activeFilterHouseParam === 0"></i>
                {{ totalHouseParam }}%</div>
            </div>
          </div>
          <div class="param-box" *ngIf="activeFilterHouseParam > 0">
            <div class="param-group">

              <div class="param-field" *ngIf="userInfo.house === 1">
                Тип оселі:<span class="param-value"><i class="fa-solid fa-house-chimney-window"></i> Будинок </span>
              </div>

              <div class="param-field" *ngIf="userInfo.flat === 1">
                Тип оселі:<span class="param-value"><i class="fa-solid fa-building-circle-arrow-right"></i> Квартира
                </span>
              </div>

              <div class="param-field" *ngIf="userInfo.room">
                Підійде:<span class="param-value"><i class="fa-solid fa-cube"></i> Кімната </span>
              </div>

              <div class="param-field" *ngIf="userInfo.area_of">
                Площа від:<span class="param-value"><i class="fa-solid fa-s"></i>{{ userInfo.area_of }}м²</span>
              </div>

              <div class="param-field" *ngIf="userInfo.area_to">
                Площа до:<span class="param-value"><i class="fa-solid fa-s"></i>{{ userInfo.area_to }}м²</span>
              </div>

              <div class="param-field" *ngIf="userInfo.kitchen_area">
                Кухня від:<span class="param-value"><i class="fa-solid fa-s"></i>{{ userInfo.kitchen_area }}м²</span>
              </div>

              <div class="param-field" *ngIf="userInfo.repair_status">Стан
                оселі:<span class="param-value"><i class="fa-solid fa-paint-roller"></i>{{
                  repair[userInfo.repair_status]
                  }}</span>
              </div>

              <div class="param-field" *ngIf="userInfo.rooms_of">
                Кімнат від:<span class="param-value"><i class="fa-solid fa-draw-polygon"></i>{{ userInfo.rooms_of
                  }}</span>
              </div>

              <div class="param-field" *ngIf="userInfo.rooms_to">
                Кімнат до:<span class="param-value"><i class="fa-solid fa-draw-polygon"></i>{{ userInfo.rooms_to
                  }}</span>
              </div>

              <div class="param-field" *ngIf="userInfo.floor">
                Поверх:<span class="param-value"><i class="fa-solid fa-stairs"></i>{{ floor[userInfo.floor] }}</span>
              </div>

              <div class="param-field" *ngIf="userInfo.balcony">
                Тип балкону:<span class="param-value"><i class="fa-regular fa-eye"></i>{{ userInfo.balcony }}</span>
              </div>

              <div class="param-field" *ngIf="userInfo.kitchen_area">
                Площа кухні:<span class="param-value"><i class="fa-solid fa-s"></i>{{ userInfo.kitchen_area }}м²</span>
              </div>

              <div class="param-field" *ngIf="userInfo.distance_stop">
                Зупинка до:<span class="param-value"><i class="fa-solid fa-bus"></i>{{
                  aboutDistance[userInfo.distance_stop]
                  }}</span>
              </div>
              <div class="param-field" *ngIf="userInfo.distance_shop">
                Маркет до:<span class="param-value"><i class="fa-solid fa-basket-shopping"></i>{{
                  aboutDistance[userInfo.distance_shop] }}</span>
              </div>
              <div class="param-field" *ngIf="userInfo.distance_green">
                Парк до:<span class="param-value"><i class="fa-solid fa-tree"></i>{{
                  aboutDistance[userInfo.distance_green]
                  }}</span>
              </div>
              <div class="param-field" *ngIf="userInfo.distance_parking">
                Паркінг до:<span class="param-value"><i class="fa-solid fa-car-side"></i>{{
                  aboutDistance[userInfo.distance_parking] }}</span>
              </div>

            </div>
          </div>
          <div class="param-box" *ngIf="userInfo.room">
            <div class="param-label">Розглядаю сусіда по оселі:</div>
            <div class="param-group p-1">
              <div class="param-field" *ngIf="userInfo.looking_man">
                Якщо:<span class="param-value"><i class="fa-solid fa-person"></i>Чоловік</span>
              </div>
              <div class="param-field" *ngIf="userInfo.looking_woman">Якщо:<span class="param-value"><i
                    class="fa-solid fa-person-dress"></i>Жінка</span>
              </div>
              <div class="param-field" *ngIf="!userInfo.looking_woman && !userInfo.looking_man">Неважливо<span
                  class="param-value"><i class="fa-solid fa-person-half-dress"></i>Всеодно який буде сусід</span> </div>
            </div>
          </div>
        </button>

      </div>

      <p [@appearance] class="t-min gray p-2" *ngIf="!suggestConservation">Внести зміни або активувати профіль можна
        лише з вказаним містом, областю та варіантом оплати.
      </p>

      <div class="btn-group" *ngIf="authorization">
        <button [disabled]="totalActiveFilters === 0" class="b-primary mr-2 custom-badge" (click)="clearFilterAll()"
          matBadge="{{totalActiveFilters}}" [matBadgeHidden]="totalActiveFilters === 0">
          <i class="fa-solid fa-broom"></i>
        </button>

        <button *ngIf="!totalActiveFilters" class="b-primary p-2 mr-2" (click)="toogleFilter('location')">
          Почати <i class="fa-solid fa-rocket pl-2 white"></i>
        </button>

        <button *ngIf="authorization"
          matTooltip="Внести зміни або активувати профіль можна лише з вказаним містом, областю та варіантом оплати."
          [disabled]="!suggestConservation" class="b-primary p-2" (click)="saveInfo()">
          Зберегти <i class="fa-regular fa-circle-check pl-2 white"></i>
        </button>

        <button *ngIf="!authorization"
          matTooltip="Внести зміни або активувати профіль можна лише з вказаним містом, областю та варіантом оплати."
          [disabled]="!suggestConservation" class="b-primary p-2" (click)="saveInfoLocal()">
          Зберегти <i class="fa-regular fa-circle-check pl-2 white"></i>
        </button>

      </div>
    </div>
  </div>
</ng-template>
<div [@top3] class="t-c filter-wrapper" *ngIf="collapseTime">
  <div class="t-c filter-window" [ngClass]="{'close': collapseTimeStatus}">

    <mat-label align="start" class="filter-label">Терміни</mat-label>

    <p class="t-med gray mb-2">Ви можете задавати час на який вам треба орендувати оселю.<br> <span
        class="accent bold">На який термін хочете орендувати оселю?</span></p>
    <section class="range-section">
      <p class="t-lar-xx">Днів: {{ userInfo.days }}</p>
      <label for="days" class="form-label dark">Встановіть кількість днів</label>
      <input (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.days" (ngModelChange)="afterTimeSet()"
        type="range" class="form-range" min="0" max="31" step="1" id="days">
    </section>

    <section class="range-section">
      <p class="t-lar-xx">Тижнів: {{ userInfo.weeks }}</p>
      <label for="weeks" class="form-label dark">Встановіть кількість тижнів</label>
      <input (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.weeks" (ngModelChange)="afterTimeSet()"
        type="range" class="form-range" min="0" max="4" step="1" id="weeks">
    </section>

    <section class="range-section">
      <p class="t-lar-xx">Місяців: {{ userInfo.mounths }}</p>
      <label for="months" class="form-label dark">Встановіть кількість місяців</label>
      <input (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.mounths" (ngModelChange)="afterTimeSet()"
        type="range" class="form-range" min="0" max="12" step="1" id="months">
    </section>

    <section class="range-section">
      <p class="t-lar-xx">Років: {{ userInfo.years }}</p>
      <label for="years" class="form-label dark">Встановіть кількість місяців</label>
      <input (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.years" (ngModelChange)="afterTimeSet()"
        type="range" class="form-range" min="0" max="5" step="1" id="years">
    </section>

    <p class="t-min gray border-bottom p-2 mt-2">Загальний термін : <br>
      <span class="t-lar-xx bold"> {{ userInfo.day_counts }} Днів</span>
    </p>

    <div [@appearance] class="btn-group">
      <button class="b-primary mr-2" (click)="toogleAll()">
        <i class="fa-regular fa-circle-xmark"></i>
      </button>

      <button [disabled]="activeFilterTime === 0" class="b-primary mr-2 custom-badge" (click)="clearFilterTime()"
        matBadge="{{activeFilterTime}}" [matBadgeHidden]="activeFilterTime === 0">
        <i class="fa-solid fa-broom"></i>
      </button>

      <button class="b-primary p-2" (click)="toogleFilter('features')">
        <div class="t-med bold white">Далі</div>
        <i class="fa-solid fa-arrow-right pl-2"></i>
      </button>

    </div>
  </div>
</div>
<div [@top3] class="t-c filter-wrapper" *ngIf="collapseFeatures">
  <div class="t-c filter-window" [ngClass]="{'close': collapseFeaturesStatus}">
    <mat-label align="start" class="filter-label">Орендарь</mat-label>

    <p class="t-med gray mb-2">Задавайте власні параметри орендаря та додавайте особливі запити.</p>

    <section class="section-chown">
      <mat-label align="start" class="label-section"><i class="fa-solid fa-sign-hanging"></i>
        Шукаю оселю для:</mat-label>
      <mat-button-toggle-group name="searchReason" (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="searchReason"
        (ngModelChange)="checkReason()" aria-label="Оплата">
        <mat-button-toggle [value]="0">Оренди</mat-button-toggle>
        <mat-button-toggle [value]="1">Купівлі</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <section class="flex-box-center mt-2">
      <mat-form-field class="item-select p-1" appearance="outline">
        <mat-select placeholder="Мета оренди" (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.purpose_rent"
          name="purpose_rent">
          <mat-option [disabled]=""><span class="item-disabled">Очистити</span></mat-option>
          <mat-option value="Неважливо">Неважливо</mat-option>
          <mat-option value="0">Переїзд</mat-option>
          <mat-option value="1">Відряджання</mat-option>
          <mat-option value="2">Подорож</mat-option>
          <mat-option value="3">Навчання</mat-option>
          <mat-option value="4">Особисті причини</mat-option>
        </mat-select>
        <mat-icon matSuffix><i class="fa-solid fa-head-side-virus"></i></mat-icon>
        <mat-hint align="end" class="dark">Мета мого пошуку оселі:</mat-hint>
      </mat-form-field>
    </section>

    <section [@appearance] class="section-chown" *ngIf="searchReason === 0">
      <mat-label align="start" class="label-section"><i class="fa-solid fa-calendar-day"></i>
        Варіанти оплати:</mat-label>
      <mat-button-toggle-group name="option_pay" (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.option_pay"
        aria-label="Оплата">
        <mat-button-toggle [value]="0">Помісячно</mat-button-toggle>
        <mat-button-toggle [value]="1">Подобово</mat-button-toggle>
        <mat-button-toggle [value]="2">Безкоштовно</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <section class="range-section" *ngIf="userInfo.option_pay !== undefined && userInfo.option_pay !== 2">
      <p class="t-lar">Бюджет від: <span class="bold t-lar-xx">{{ userInfo.price_of / 1000 | number }}k </span> ₴</p>
      <label for="priceFrom" class="form-label dark" *ngIf="userInfo.option_pay === 0">За місяць {{ userInfo.price_of |
        number:'1.0-0'
        }} грн</label>
      <label for="priceFrom" class="form-label dark" *ngIf="userInfo.option_pay === 1">За добу {{ userInfo.price_of |
        number:'1.0-0'
        }} грн</label>
      <label for="priceFrom" class="form-label dark" *ngIf="userInfo.option_pay === 3">Купівля {{ userInfo.price_of |
        number:'1.0-0'
        }} грн</label>

      <input (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.price_of"
        (ngModelChange)="validatePriceRange('from')" type="range" class="form-range" [min]="minValue" [max]="maxValue"
        [step]="step" id="priceFrom">
    </section>

    <section class="range-section" *ngIf="userInfo.option_pay !== undefined && userInfo.option_pay !== 2">
      <p class="t-lar">Бюджет до: <span class="bold t-lar-xx">{{ userInfo.price_to / 1000 | number }}k </span> ₴</p>
      <label for="priceTo" class="form-label dark" *ngIf="userInfo.option_pay === 0">За місяць {{ userInfo.price_to |
        number:'1.0-0'
        }} грн</label>
      <label for="priceTo" class="form-label dark" *ngIf="userInfo.option_pay === 1">За добу {{ userInfo.price_to |
        number:'1.0-0'
        }} грн</label>
      <label for="priceTo" class="form-label dark" *ngIf="userInfo.option_pay === 3">Купівля {{ userInfo.price_to |
        number:'1.0-0'
        }} грн</label>
      <input (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.price_to"
        (ngModelChange)="validatePriceRange('to')" type="range" class="form-range" [min]="minValue" [max]="maxValue"
        [step]="step" id="priceTo">
    </section>

    <section class="section-chown" *ngIf="searchReason === 0">
      <mat-label align="start" class="label-section">До якого тупу орендарів відноситесь?</mat-label>

      <div class="flex-box-type p-2">
        <p class="t-med">Студент <i class="fa-solid fa-graduation-cap pr-2"></i></p>
        <mat-button-toggle-group (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.students" name="students"
          aria-label="students">
          <mat-button-toggle [value]="undefined">Неважливо</mat-button-toggle>
          <mat-button-toggle [value]="0">Ні</mat-button-toggle>
          <mat-button-toggle [value]="1">Так</mat-button-toggle>
        </mat-button-toggle-group>
      </div>

      <div class="flex-box-type p-2">
        <p class="t-med">Жінка <i class="fa-solid fa-person-dress pr-2"></i></p>
        <mat-button-toggle-group (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.woman" name="woman"
          aria-label="woman">
          <mat-button-toggle [value]="undefined">Неважливо</mat-button-toggle>
          <mat-button-toggle [value]="0">Ні</mat-button-toggle>
          <mat-button-toggle [value]="1">Так</mat-button-toggle>
        </mat-button-toggle-group>
      </div>

      <div class="flex-box-type p-2">
        <p class="t-med">Чоловік <i class="fa-solid fa-person pr-2"></i></p>
        <mat-button-toggle-group (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.man" name="man"
          aria-label="man">
          <mat-button-toggle [value]="undefined">Неважливо</mat-button-toggle>
          <mat-button-toggle [value]="0">Ні</mat-button-toggle>
          <mat-button-toggle [value]="1">Так</mat-button-toggle>
        </mat-button-toggle-group>
      </div>

      <div class="flex-box-type p-2">
        <p class="t-med">Сім'ї | З дітьми <i class="fa-solid fa-person-breastfeeding pr-2"></i></p>
        <mat-button-toggle-group (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.family" name="family"
          aria-label="family">
          <mat-button-toggle [value]="undefined">Неважливо</mat-button-toggle>
          <mat-button-toggle [value]="0">Ні</mat-button-toggle>
          <mat-button-toggle [value]="1">Так</mat-button-toggle>
        </mat-button-toggle-group>
      </div>
    </section>

    <section class="section-chown" *ngIf="searchReason === 0">
      <mat-label align="start" class="label-section">У вас є домашні улюбленці? <i
          class="fa-solid fa-paw"></i></mat-label>
      <mat-button-toggle-group name="bunker" (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.animals"
        aria-label="Петс">
        <mat-button-toggle value="0">Ні</mat-button-toggle>
        <mat-button-toggle value="1">Так різні</mat-button-toggle>
        <mat-button-toggle value="2">Котик</mat-button-toggle>
        <mat-button-toggle value="3">Песик</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <section class="flex-box-center mt-2 p-2">
      <mat-label align="start" class="label-section">Опис оголошення або привітання від вас <i
          class="fa-solid fa-signature"></i></mat-label>
      <mat-form-field class="mt-2 w-100">
        <textarea appAutoResizeTextarea matInput id="textArea" (ngModelChange)="onSubmitWithDelay()"
          [(ngModel)]="userInfo.about"></textarea>
      </mat-form-field>
    </section>

    <div [@appearance] class="btn-group">
      <button class="b-primary mr-2" (click)="toogleAll()">
        <i class="fa-regular fa-circle-xmark"></i>
      </button>

      <button [disabled]="activeFilterFeatures === 0" class="b-primary mr-2 custom-badge"
        (click)="clearFilterFeatures()" matBadge="{{activeFilterFeatures}}"
        [matBadgeHidden]="activeFilterFeatures === 0">
        <i class="fa-solid fa-broom"></i>
      </button>

      <button class="b-primary p-2" (click)="toogleFilter('houseParam')">
        <div class="t-med bold white">Далі</div>
        <i class="fa-solid fa-arrow-right pl-2"></i>
      </button>

    </div>
  </div>
</div>
<div [@top3] class="t-c filter-wrapper" *ngIf="collapseHouseParam">
  <div class="t-c filter-window" [ngClass]="{'close': collapseHouseParamStatus}">

    <mat-label align="start" class="filter-label">Оселя</mat-label>
    <p class="t-med gray mb-2">Введіть параметри бажаної оселі і ми знайдемо її для вас по відповідним параметрам.</p>

    <section class="section-chown">
      <mat-label align="start" class="label-section"><i class="fa-solid fa-house-chimney-window"></i> Підійде
        будинок? </mat-label>
      <mat-button-toggle-group name="house" (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.house"
        aria-label="Будинок">
        <mat-button-toggle [value]="undefined">Неважливо</mat-button-toggle>
        <mat-button-toggle [value]="false">Ні</mat-button-toggle>
        <mat-button-toggle [value]="true">Так</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <section class="section-chown">
      <mat-label align="start" class="label-section"><i class="fa-solid fa-building-circle-arrow-right"></i>
        Підійде квартира?</mat-label>
      <mat-button-toggle-group name="flat" (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.flat"
        aria-label="Квартира">
        <mat-button-toggle [value]="undefined">Неважливо</mat-button-toggle>
        <mat-button-toggle [value]="false">Ні</mat-button-toggle>
        <mat-button-toggle [value]="true">Так</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <section class="section-chown">
      <mat-label align="start" class="label-section"><i class="fa-solid fa-cube"></i>
        Підселення розглядаєте?</mat-label>
      <mat-button-toggle-group name="room" (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.room"
        aria-label="Кімната">
        <mat-button-toggle [value]="undefined">Неважливо</mat-button-toggle>
        <mat-button-toggle [value]="0">Ні</mat-button-toggle>
        <mat-button-toggle [value]="1">Так</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <section class="section-chown" *ngIf="userInfo.room">
      <mat-label align="start" class="label-section"><i class="fa-solid fa-person-dress"></i>
        Підселення до жінки розглядаєте?</mat-label>
      <mat-button-toggle-group name="room" (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.looking_woman"
        aria-label="Кімната">
        <mat-button-toggle [value]="undefined">Неважливо</mat-button-toggle>
        <mat-button-toggle [value]="0">Ні</mat-button-toggle>
        <mat-button-toggle [value]="1">Так</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <section class="section-chown" *ngIf="userInfo.room">
      <mat-label align="start" class="label-section"><i class="fa-solid fa-person"></i>
        Підселення до чоловіка розглядаєте?</mat-label>
      <mat-button-toggle-group name="room" (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.looking_man"
        aria-label="Кімната">
        <mat-button-toggle [value]="undefined">Неважливо</mat-button-toggle>
        <mat-button-toggle [value]="0">Ні</mat-button-toggle>
        <mat-button-toggle [value]="1">Так</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <section class="range-section">
      <p class="t-lar-xx">
        <i class="fa-solid fa-paint-roller"></i> Стан оселі: {{ userInfo.repair_status }}%
      </p>
      <input (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.repair_status" type="range" class="form-range"
        min="0" max="100" step="10" id="repair_status">
      <p class="form-label dark"> {{ getRepairStatusName(userInfo.repair_status) }} </p>
    </section>

    <section class="range-section">
      <p class="t-lar-xx"><i class="fa-solid fa-compass-drafting"></i> Загальна S від - {{ userInfo.area_of }} м²
      </p>
      <label for="area" class="form-label dark">Встановіть площу оселі</label>
      <input (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.area_of"
        (ngModelChange)="validateAreaRange('from')" type="range" class="form-range" min="0" max="100" step="5"
        id="area_of">
    </section>

    <section class="range-section">
      <p class="t-lar-xx"><i class="fa-solid fa-compass-drafting"></i> Загальна S до - {{ userInfo.area_to }} м²
      </p>
      <label for="area" class="form-label dark">Встановіть площу оселі</label>
      <input (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.area_to"
        (ngModelChange)="validateAreaRange('to')" type="range" class="form-range" min="20" max="400" step="5"
        id="area_to">
    </section>

    <section class="range-section">
      <p class="t-lar-xx"><i class="fa-solid fa-utensils"></i> Кухня S від - {{ userInfo.kitchen_area }} м²</p>
      <label for="kitchen_area" class="form-label dark">Встановіть площу кухні</label>
      <input (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.kitchen_area" type="range" class="form-range"
        min="0" max="50" step="5" id="kitchen_area">
    </section>

    <section class="section-chown">
      <mat-label align="start" class="label-section"><i class="fa-solid fa-hotel"></i>
        Кількість кімнат від:</mat-label>
      <mat-button-toggle-group (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.rooms_of" name="rooms_of"
        aria-label="Кількість кімнат від">
        <mat-button-toggle [value]="0">Неважливо</mat-button-toggle>
        <mat-button-toggle [value]="1">1</mat-button-toggle>
        <mat-button-toggle [value]="2">2</mat-button-toggle>
        <mat-button-toggle [value]="3">3</mat-button-toggle>
        <mat-button-toggle [value]="4">4</mat-button-toggle>
        <mat-button-toggle [value]="5">5+</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <section class="section-chown">
      <mat-label align="start" class="label-section"><i class="fa-solid fa-hotel"></i>
        Кількість кімнат до:</mat-label>
      <mat-button-toggle-group (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.rooms_to" name="rooms_to"
        aria-label="Кількість кімнат до">
        <mat-button-toggle [value]="0">Неважливо</mat-button-toggle>
        <mat-button-toggle [value]="1">1</mat-button-toggle>
        <mat-button-toggle [value]="2">2</mat-button-toggle>
        <mat-button-toggle [value]="3">3</mat-button-toggle>
        <mat-button-toggle [value]="4">4</mat-button-toggle>
        <mat-button-toggle [value]="5">5+</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <section class="section-chown">
      <mat-label align="start" class="label-section"><i class="fa-solid fa-stairs"></i>Чи важливий поверх?</mat-label>
      <mat-button-toggle-group class="toggle-group-column" name="floor" (ngModelChange)="onSubmitWithDelay()"
        [(ngModel)]="userInfo.floor" aria-label="Укриття">
        <mat-button-toggle *ngFor="let option of options_floor" [value]="option.value">{{ option.name
          }}</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <mat-form-field class="item-select p-1" appearance="outline">
      <mat-select placeholder="Балкон" (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.balcony"
        name="balcony">
        <mat-option [disabled]=""><span class="item-disabled">Очистити</span></mat-option>
        <mat-option value="Неважливо">Неважливо</mat-option>
        <mat-option value="Класичний">Класичний</mat-option>
        <mat-option value="Французький">Французький</mat-option>
        <mat-option value="Лоджія">Лоджія</mat-option>
        <mat-option value="Тераса">Тераса</mat-option>
        <mat-option value="Веранда">Веранда</mat-option>
      </mat-select>
      <mat-icon matSuffix><i class="fa-regular fa-eye"></i></mat-icon>
      <mat-hint align="start">Тип балкону</mat-hint>
    </mat-form-field>

    <section class="section-chown">
      <mat-label align="start" class="label-section"><i class="fa-solid fa-shield-heart"></i> Шукаєте оселю з
        укриттям?</mat-label>
      <mat-button-toggle-group name="bunker" (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.bunker"
        aria-label="Укриття">
        <mat-button-toggle value="Неважливо">Ні</mat-button-toggle>
        <mat-button-toggle value="Паркінг">В паркінгу</mat-button-toggle>
        <mat-button-toggle value="В будинку">В будинку</mat-button-toggle>
        <mat-button-toggle value="Поряд з будинком">Поряд</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <section class="section-chown">
      <mat-label align="start" class="label-section"><i class="fa-solid fa-tree"></i>
        Парк в радіусі до:</mat-label>
      <mat-button-toggle-group (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.distance_green"
        name="distance_green" aria-label="Відстань до парку"
        [hideSingleSelectionIndicator]="hideSingleSelectionIndicator()">
        <mat-button-toggle *ngFor="let distance of distanceConfiq" [value]="distance.value">
          {{ distance.name }}</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <section class="section-chown">
      <mat-label align="start" class="label-section"><i class="fa-solid fa-basket-shopping"></i>
        Маркет в радіусі до:</mat-label>
      <mat-button-toggle-group (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.distance_shop"
        name="distance_shop" aria-label="Відстань до маркету"
        [hideSingleSelectionIndicator]="hideSingleSelectionIndicator()">
        <mat-button-toggle *ngFor="let distance of distanceConfiq" [value]="distance.value">
          {{ distance.name }}</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <section class="section-chown">
      <mat-label align="start" class="label-section"><i class="fa-solid fa-car-side"></i>
        Паркінг в радіусі до:</mat-label>
      <mat-button-toggle-group (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.distance_parking"
        name="distance_parking" aria-label="Відстань до паркінгу"
        [hideSingleSelectionIndicator]="hideSingleSelectionIndicator()">
        <mat-button-toggle *ngFor="let distance of distanceConfiq" [value]="distance.value">
          {{ distance.name }}</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <section class="section-chown">
      <mat-label align="start" class="label-section"><i class="fa-solid fa-bus"></i>
        Зупинка в радіусі до:</mat-label>
      <mat-button-toggle-group (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.distance_stop"
        name="distance_stop" aria-label="Відстань до зупинки"
        [hideSingleSelectionIndicator]="hideSingleSelectionIndicator()">
        <mat-button-toggle *ngFor="let distance of distanceConfiq" [value]="distance.value">
          {{ distance.name }}</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <div [@appearance] class="btn-group">
      <button class="b-primary mr-2" (click)="toogleAll()">
        <i class="fa-regular fa-circle-xmark"></i>
      </button>

      <button [disabled]="activeFilterHouseParam === 0" class="b-primary mr-2 custom-badge"
        (click)="clearFilterHouseParam()" matBadge="{{activeFilterHouseParam}}"
        [matBadgeHidden]="activeFilterHouseParam === 0">
        <i class="fa-solid fa-broom"></i>
      </button>

      <button *ngIf="authorization" class="b-primary p-2" (click)="saveInfo()">
        <i class="fa-regular fa-circle-check pr-2 white"></i> Зберегти
      </button>

      <button *ngIf="!authorization" class="b-primary p-2" (click)="saveInfoLocal()">
        <i class="fa-regular fa-circle-check pr-2 white"></i> Зберегти
      </button>

    </div>
  </div>
</div>
<div [@top3] class="t-c filter-wrapper" *ngIf="collapseLocation">
  <div class="t-c filter-window" [ngClass]="{'close': collapseLocationStatus}">

    <mat-label align="start" class="filter-label">Локація</mat-label>

    <p class="t-med gray">Оберіть або введіть місто і область де ви шукаєте оселю.</p>

    <div class="p-2" *ngIf="chownCity">
      <div class="flex-column t-с">
        <p class="t-med bold">{{chownCity.region}} область</p>
        <p class="t-min">населення області - {{chownCity.regionPopulation | number:'1.0-0'}}</p>
        <img class="card-img" [src]="chownCity.icon" alt="userInfo Image">
      </div>
    </div>

    <section>
      <mat-form-field class="item-select p-1" appearance="outline" *ngIf="userInfo.country">
        <mat-label for="country">Країна</mat-label>
        <input disabled name="userInfo.country" id="country" matInput (ngModelChange)="onSubmitWithDelay()"
          [(ngModel)]="userInfo.country" placeholder="Виберіть або введіть мікрорайон">
        <mat-icon matSuffix><i class="fa-solid fa-flag gray"></i></mat-icon>
        <mat-hint align="end" class="t-min gray">В розробці</mat-hint>
      </mat-form-field>

      <mat-form-field [@top1] class="item-select p-1" appearance="outline">
        <mat-label for="city">Місто</mat-label>
        <input #cityInput name="userInfo.city" id="city" matInput [(ngModel)]="userInfo.city"
          placeholder="Виберіть або введіть місто" (ngModelChange)="onCityInputChange(userInfo.city)"
          [matAutocomplete]="autoCity">
        <mat-autocomplete #autoCity="matAutocomplete">
          <mat-option *ngFor="let city of filteredCities" [value]="city.cityUa"
            (onSelectionChange)="ifSelectedCity(city)">
            {{ city.shortCityTypeUa }} {{ city.cityUa }}, <span *ngIf="city.districtUa"> р-н {{ city.districtUa
              }},</span>
            обл.{{ city.regionUa }}
          </mat-option>
        </mat-autocomplete>
        <mat-icon matSuffix><i class="fa-solid fa-city"></i></mat-icon>
      </mat-form-field>

      <mat-form-field [@appearance] class="item-select p-1" appearance="outline" *ngIf="userInfo.city">
        <mat-label for="city">Область</mat-label>
        <input #regionInput name="userInfo.region" id="region" matInput placeholder="Почніть вводити область"
          [(ngModel)]="userInfo.region" (ngModelChange)="onRegionsInputChange(userInfo.region)"
          [matAutocomplete]="autoRegion">
        <mat-autocomplete #autoRegion="matAutocomplete">
          <mat-option *ngFor="let region of filteredRegions" [value]="region.name">
            {{ region.name }}
          </mat-option>
        </mat-autocomplete>
        <mat-icon matSuffix><i class="fa-solid fa-earth-europe"></i></mat-icon>
      </mat-form-field>

      <mat-form-field [@appearance] class="item-select p-1" appearance="outline" *ngIf="userInfo.city">
        <mat-label for="district">Район</mat-label>
        <input type="text" matInput [matAutocomplete]="auto" [(ngModel)]="userInfo.district"
          (ngModelChange)="onDistrictInputChange()" placeholder="Виберіть або введіть район" name="userInfo.district"
          id="district">
        <mat-icon matSuffix><i class="fa-solid fa-mountain-city gray"></i></mat-icon>

        <mat-autocomplete #auto="matAutocomplete">
          <mat-option *ngFor="let district of filteredDistricts" [value]="district.district">
            {{ district.district }}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <mat-form-field [@appearance] class="item-select p-1" appearance="outline"
        *ngIf="userInfo.city && userInfo.district">
        <mat-label for="micro_district">Мікрорайон</mat-label>
        <input name="userInfo.micro_district" id="micro_district" matInput (ngModelChange)="onSubmitWithDelay()"
          [(ngModel)]="userInfo.micro_district" placeholder="Введіть мікрорайон">
        <mat-icon matSuffix><i class="fa-solid fa-building-flag gray"></i></mat-icon>
      </mat-form-field>
    </section>

    <div class="city-box p-2" *ngIf="!userInfo.city">
      <button *ngFor="let item of cities" (click)="pickCity(item)" class="btn-city m-1">
        <div class="flex-column t-s">
          <img class="card-img" [src]="item.icon" alt="region image">
          <p class="t-med bold">{{item.name}}</p>
          <p class="t-min">{{item.population | number:'1.0-0'}}</p>
        </div>
      </button>
    </div>

    <div [@top1] class="t-c w-100" *ngIf="userInfo.city && metroExists">
      <mat-label align="start">Метро</mat-label>

      <section class="section-chown">
        <mat-label align="start" class="label-section"><i class="fa-solid fa-code-branch"></i>
          Лінія метро:</mat-label>
        <mat-button-toggle-group name="metrocolor" (ngModelChange)="onSubmitWithDelay()"
          [(ngModel)]="userInfo.metrocolor" (ngModelChange)="onLineSelect(userInfo.metrocolor)" aria-label="Метро"
          [hideSingleSelectionIndicator]="hideSingleSelectionIndicator()">
          <mat-button-toggle *ngFor="let line of lines" [value]="line.name">{{ line.name }}</mat-button-toggle>
        </mat-button-toggle-group>
      </section>

      <section class="section-chown">
        <mat-label align="start" class="label-section"><i class="fa-solid fa-arrows-left-right-to-line"></i>
          Метро в радіусі до:</mat-label>
        <mat-button-toggle-group (ngModelChange)="onSubmitWithDelay()" [(ngModel)]="userInfo.distance_metro"
          name="distance_metro" aria-label="Відстань до метро"
          [hideSingleSelectionIndicator]="hideSingleSelectionIndicator()">
          <mat-button-toggle *ngFor="let distance of distanceConfiq" [value]="distance.value">
            {{ distance.name }}</mat-button-toggle>
        </mat-button-toggle-group>
      </section>

      <section class="section-chown">
        <mat-form-field [@appearance] class="item-select p-1" appearance="outline" *ngIf="userInfo.metrocolor">
          <mat-label for="metroname">Станція метро</mat-label>
          <mat-select placeholder="Виберіть станцію" (ngModelChange)="onSubmitWithDelay()"
            [(ngModel)]="userInfo.metroname" name="metroname">
            <mat-option *ngFor="let station of stations" [value]="station.name">{{ station.name }}</mat-option>
          </mat-select>
          <mat-hint align="end">Виберіть станцію метро</mat-hint>
          <mat-icon matSuffix><i class="fa-solid fa-archway"></i></mat-icon>
        </mat-form-field>

      </section>
    </div>


    <div [@appearance] class="btn-group">
      <button class="b-primary mr-2" (click)="toogleAll()">
        <i class="fa-regular fa-circle-xmark"></i>
      </button>

      <button [disabled]="activeFilterLocation === 0" class="b-primary mr-2 custom-badge"
        (click)="clearFilterLocation()" matBadge="{{activeFilterLocation}}"
        [matBadgeHidden]="activeFilterLocation === 0">
        <i class="fa-solid fa-broom"></i>
      </button>

      <button class="b-primary p-2" (click)="toogleFilter('time')">
        <div class="t-med bold white">Далі</div>
        <i class="fa-solid fa-arrow-right pl-2"></i>
      </button>

    </div>

  </div>



</div>
