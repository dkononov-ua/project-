<div [@top2] class="content-child">
  <div class="card-agree m-2 p-2" *ngFor="let agree of agreements">
    <div class="t-lar gray">ID угоди: <span class="t-lar bold accent" *ngIf="agree.flat">
        {{agree.flat.agreement_id}}
      </span> </div>
    <div class="flex-box-row">
      <div class="p-2">
        <div class="img-wrapper">
          <img class="img-fluid" [src]="serverPath + pathPhotoUser + agree.flat.subscriber_img" alt="img"
            (error)="useDefaultImage($event)">
          <div class="card-body w-60 p-2">
            <div class="t-min"> Орендар ID: {{ agree.flat.subscriber_id}} </div>
            <div class="t-med bold"> {{agree.flat.subscriber_lastName}} </div>
            <div class="t-med bold"> {{agree.flat.subscriber_firstName}} </div>
            <div class="t-med bold"> {{agree.flat.subscriber_surName }} </div>
          </div>
        </div>
        <div class="card-body">
          <div class="t-min">Початок оренди: <span class="t-med bold">
              {{agree.flat.dateAgreeStart| date }} </span></div>
          <div class="t-min">Закінчення оренди: <span class="t-med bold">
              {{agree.flat.dateAgreeEnd| date }} </span></div>
          <div class="t-min" *ngIf="agree.flat.price">Сума оплати:
            <span class="t-med bold"> {{agree.flat.price }} ₴/міс</span>.
          </div>
        </div>
      </div>

      <div class="p-2">
        <div class="card-btn m-1">
          <div class="t-min bold">Угода оренди</div>
          <div class="btn-group">

            <button class="btn" matTooltip="Переглянути Угоду" [routerLink]="['/rental-agree']"
              [queryParams]="{ agreement_id: agree.flat.agreement_id, indexPage: 2, indexUser: 2 }">
              <i class="fa-solid fa-file-circle-check"></i>
              <div class="t-min bold">Переглянути</div>
            </button>

            <button class="btn" matTooltip="Видалити Угоду" (click)="openDialog1(agree)">
              <i class="fa-solid fa-circle-minus"></i>
              <div class="t-min bold">Видалити</div>
            </button>

          </div>
        </div>

        <div class="card-btn m-1">
          <div class="t-min bold">Акт прийому-передачі</div>
          <div class="btn-group">

            <button class="btn accent-bg" matTooltip="Сформувати Акт"
              [routerLink]="['/house/agree/act-create', agree.flat.agreement_id]" *ngIf="agree.actExists === false">
              <i class="fa-solid fa-file-circle-check"></i>
              <div class="t-min bold">Сформувати</div>
            </button>

            <button class="btn" [routerLink]="['/act-transfer']"
              [queryParams]="{ agreement_id: agree.flat.agreement_id, indexPage: 1, indexUser: 2 }"
              *ngIf="agree.actExists === true">
              <i class="fa-solid fa-file-circle-check"></i>
              <div class="t-min bold">Переглянути</div>
            </button>

            <button class="btn" matTooltip="Видалити Акт" (click)="openDialog(agree)" *ngIf="agree.actExists === true">
              <i class="fa-solid fa-circle-minus"></i>
              <div class="t-min bold">Видалити</div>
            </button>

          </div>
        </div>

        <div class="card-btn m-1" *ngIf="agree.actExists === true">
          <div class="btn-group">
            <button class="btn" matTooltip="Додати в мешканці" (click)="openDialog2(agree)">
              <i class="fa-solid fa-user-plus"></i>
              <div class="t-min bold">Додати орендара в мешканці</div>
            </button>
          </div>
        </div>
      </div>

    </div>



  </div>
</div>
